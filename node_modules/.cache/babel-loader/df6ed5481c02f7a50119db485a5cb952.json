{"ast":null,"code":"import _objectSpread from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useCallback,useMemo}from'react';import{createUseStyles}from'react-jss';import{FormattedMessage}from'react-intl';import{arrayMove,SortableContainer,SortableElement,SortableHandle}from'react-sortable-hoc';import{Tag,Tooltip,Typography}from'@welovedevs/ui';import{LocationField}from'../../../../../commons/location_field/location_field';import{EditDialogField}from'../../../../../commons/edit_dialog_field/edit_dialog_field';import{LOCATION_PLACES_FIELD_TRANSITIONS_PROPS,LOCATION_PLACES_LIST_TRANSITION_PROPS}from'./location_places_field_transitions_props';import{ReactComponent as TrashIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../../../../assets/icons/trash.svg\";import{styles}from'./location_places_field_styles';import{ReactComponent as MoveIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../../../../assets/icons/move.svg\";import{DEFAULT_SPRING_TYPE as spring}from'../../../../../../utils/framer_motion/common_types/spring_type';import{AnimatePresence,motion}from'framer-motion';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createUseStyles(styles);var DragHandle=SortableHandle(function(_ref){var classes=_ref.classes;return/*#__PURE__*/_jsx(\"button\",{className:classes.dragHandleButton,type:\"button\",children:/*#__PURE__*/_jsx(MoveIcon,{className:classes.dragHandle})});});var SortableTag=SortableElement(function(_ref2){var onRemove=_ref2.onRemove,item=_ref2.item,motionConfig=_ref2.motionConfig;var classes=useStyles();return/*#__PURE__*/_jsxs(Tag,_objectSpread(_objectSpread({component:motion.div,classes:{container:classes.place},color:\"secondary\"},motionConfig),{},{children:[/*#__PURE__*/_jsx(DragHandle,{classes:classes}),/*#__PURE__*/_jsx(Tooltip,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"DreamJob.editDialog.location.delete\",defaultMessage:\"Delete this place\"}),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onRemove,children:/*#__PURE__*/_jsx(TrashIcon,{className:classes.deleteIcon})})}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"light\",children:item.name})]}),\"\".concat(item.id,\"_\").concat(item.name));});var SortableTags=SortableContainer(function(_ref3){var onRemove=_ref3.onRemove,items=_ref3.items;var classes=useStyles();return/*#__PURE__*/_jsx(motion.div,{variants:LOCATION_PLACES_LIST_TRANSITION_PROPS,initial:\"initial\",animate:\"animate\",exit:\"exit\",className:classes.places,children:/*#__PURE__*/_jsx(AnimatePresence,{children:items.map(function(item,index){return item&&/*#__PURE__*/_jsx(SortableTag,{index:index,item:item,motionConfig:{variants:LOCATION_PLACES_FIELD_TRANSITIONS_PROPS,transition:spring},onRemove:onRemove(item.id)},\"place_\".concat(item.id));})})});});var LocationPlacesFieldComponent=function LocationPlacesFieldComponent(_ref4){var error=_ref4.error,places=_ref4.places,addPlace=_ref4.addPlace,removePlace=_ref4.removePlace,onChange=_ref4.onChange;var classes=useStyles();var placesValues=useMemo(function(){return Object.values(places||{});},[places]);var onMove=useCallback(function(_ref5){var oldIndex=_ref5.oldIndex,newIndex=_ref5.newIndex;onChange(arrayMove(placesValues,oldIndex,newIndex).map(function(item,index){return _objectSpread(_objectSpread({},item),{},{index:index});}));},[placesValues,onChange]);return/*#__PURE__*/_jsxs(EditDialogField,{error:error,title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"DreamJob.editDialog.location.title\",defaultMessage:\"What's your dream job location?\"}),children:[/*#__PURE__*/_jsx(LocationField,{fullWidth:true,classes:{container:classes.locationField},clearOnSelect:true,variant:\"flat\",onLocationSelected:addPlace}),/*#__PURE__*/_jsx(SortableTags,{lockToContainerEdges:true,axis:\"xy\",helperClass:classes.sortableHelper,items:placesValues,onRemove:removePlace,distance:15// onSortStart={handleSortStart}\n,onSortEnd:onMove,classes:classes})]});};export var LocationPlacesField=LocationPlacesFieldComponent;","map":{"version":3,"sources":["/home/gzamora/Documents/test/react-ultimate-resume/src/package/components/cards/cards_types/dream_job/dream_job_edit_dialog/location_places_field/location_places_field.jsx"],"names":["React","useCallback","useMemo","createUseStyles","FormattedMessage","arrayMove","SortableContainer","SortableElement","SortableHandle","Tag","Tooltip","Typography","LocationField","EditDialogField","LOCATION_PLACES_FIELD_TRANSITIONS_PROPS","LOCATION_PLACES_LIST_TRANSITION_PROPS","styles","DEFAULT_SPRING_TYPE","spring","AnimatePresence","motion","useStyles","DragHandle","classes","dragHandleButton","dragHandle","SortableTag","onRemove","item","motionConfig","div","container","place","deleteIcon","name","id","SortableTags","items","places","map","index","variants","transition","LocationPlacesFieldComponent","error","addPlace","removePlace","onChange","placesValues","Object","values","onMove","oldIndex","newIndex","locationField","sortableHelper","LocationPlacesField"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo } from 'react';\n\nimport { createUseStyles } from 'react-jss';\nimport { FormattedMessage } from 'react-intl';\nimport { arrayMove, SortableContainer, SortableElement, SortableHandle } from 'react-sortable-hoc';\n\nimport { Tag, Tooltip, Typography } from '@welovedevs/ui';\n\nimport { LocationField } from '../../../../../commons/location_field/location_field';\nimport { EditDialogField } from '../../../../../commons/edit_dialog_field/edit_dialog_field';\n\nimport {\n    LOCATION_PLACES_FIELD_TRANSITIONS_PROPS,\n    LOCATION_PLACES_LIST_TRANSITION_PROPS\n} from './location_places_field_transitions_props';\n\nimport { ReactComponent as TrashIcon } from '../../../../../../assets/icons/trash.svg';\n\nimport { styles } from './location_places_field_styles';\n\nimport { ReactComponent as MoveIcon } from '../../../../../../assets/icons/move.svg';\nimport { DEFAULT_SPRING_TYPE as spring } from '../../../../../../utils/framer_motion/common_types/spring_type';\nimport { AnimatePresence, motion } from 'framer-motion';\n\nconst useStyles = createUseStyles(styles);\nconst DragHandle = SortableHandle(({ classes }) => (\n    <button className={classes.dragHandleButton} type=\"button\">\n        <MoveIcon className={classes.dragHandle} />\n    </button>\n));\nconst SortableTag = SortableElement(({ onRemove, item, motionConfig }) => {\n    const classes = useStyles();\n\n    return (\n        <Tag\n            key={`${item.id}_${item.name}`}\n            component={motion.div}\n            classes={{ container: classes.place }}\n            color=\"secondary\"\n            {...motionConfig}\n        >\n            <DragHandle classes={classes} />\n            <Tooltip\n                title={<FormattedMessage id=\"DreamJob.editDialog.location.delete\" defaultMessage=\"Delete this place\" />}\n            >\n                <button type=\"button\" onClick={onRemove}>\n                    <TrashIcon className={classes.deleteIcon} />\n                </button>\n            </Tooltip>\n            <Typography variant=\"body2\" color=\"light\">\n                {item.name}\n            </Typography>\n        </Tag>\n    );\n});\nconst SortableTags = SortableContainer(({ onRemove, items }) => {\n    const classes = useStyles();\n\n    return (\n        <motion.div\n            variants={LOCATION_PLACES_LIST_TRANSITION_PROPS}\n            initial=\"initial\"\n            animate=\"animate\"\n            exit=\"exit\"\n            className={classes.places}\n        >\n            <AnimatePresence>\n                {items.map(\n                    (item, index) =>\n                        item && (\n                            <SortableTag\n                                index={index}\n                                key={`place_${item.id}`}\n                                item={item}\n                                motionConfig={{\n                                    variants: LOCATION_PLACES_FIELD_TRANSITIONS_PROPS,\n                                    transition: spring\n                                }}\n                                onRemove={onRemove(item.id)}\n                            />\n                        )\n                )}\n            </AnimatePresence>\n        </motion.div>\n    );\n});\nconst LocationPlacesFieldComponent = ({ error, places, addPlace, removePlace, onChange }) => {\n    const classes = useStyles();\n    const placesValues = useMemo(() => Object.values(places || {}), [places]);\n\n    const onMove = useCallback(\n        ({ oldIndex, newIndex }) => {\n            onChange(arrayMove(placesValues, oldIndex, newIndex).map((item, index) => ({ ...item, index })));\n        },\n        [placesValues, onChange]\n    );\n\n    return (\n        <EditDialogField\n            error={error}\n            title={\n                <FormattedMessage\n                    id=\"DreamJob.editDialog.location.title\"\n                    defaultMessage=\"What's your dream job location?\"\n                />\n            }\n        >\n            <LocationField\n                fullWidth\n                classes={{\n                    container: classes.locationField\n                }}\n                clearOnSelect\n                variant=\"flat\"\n                onLocationSelected={addPlace}\n            />\n            <SortableTags\n                lockToContainerEdges\n                axis=\"xy\"\n                helperClass={classes.sortableHelper}\n                items={placesValues}\n                onRemove={removePlace}\n                distance={15}\n                // onSortStart={handleSortStart}\n                onSortEnd={onMove}\n                classes={classes}\n            />\n        </EditDialogField>\n    );\n};\n\nexport const LocationPlacesField = LocationPlacesFieldComponent;\n"]},"metadata":{},"sourceType":"module"}