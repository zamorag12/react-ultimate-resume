{"ast":null,"code":"import _slicedToArray from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,memo,useMemo}from'react';import{FormattedMessage,useIntl}from'react-intl';import{createUseStyles}from'react-jss';import{ProfileCardSection}from'../../../../commons/profile_card/profile_card_section/profile_card_section';import{ProfileCardSectionTitle}from'../../../../commons/profile_card/profile_card_section_title/profile_card_section_title';import{ProfileCardSectionText}from'../../../../commons/profile_card/profile_card_section_text/profile_card_section_text';import{ProfileCardAnimatedBack}from'../../../../commons/profile_card/profile_card_animated_back/profile_card_animated_back';import{ProfileCardSectionSubtitle}from'../../../../commons/profile_card/profile_card_section_subtitle/profile_card_section_subtitle';import{styles}from'./experiences_back_styles';import{translations}from'./experiences_translations';import{useAdditionalNodes}from'../../../../hooks/use_additional_nodes';import{existsAndNotEmpty}from'../../../utils/exists_and_not_empty';import{NoWork}from'./no_work/no_work';import{useCustomization}from'../../../../hooks/use_customization';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createUseStyles(styles);var ExperienceContent=function ExperienceContent(_ref){var _customization$fields3,_customization$fields4;var experience=_ref.experience,variant=_ref.variant,classes=_ref.classes;var _useIntl=useIntl(),formatMessage=_useIntl.formatMessage;var _useAdditionalNodes=useAdditionalNodes('cards.experiences.back.experience.content.buildTitle',null),_useAdditionalNodes2=_slicedToArray(_useAdditionalNodes,1),buildTitle=_useAdditionalNodes2[0];var _useCustomization=useCustomization(),_useCustomization2=_slicedToArray(_useCustomization,1),customization=_useCustomization2[0];var id=experience.id,name=experience.name,summary=experience.summary,place=experience.place,position=experience.position;var dateString=useMemo(function(){var _customization$fields,_customization$fields2;var displayFormat=(customization===null||customization===void 0?void 0:(_customization$fields=customization.fields)===null||_customization$fields===void 0?void 0:(_customization$fields2=_customization$fields.work)===null||_customization$fields2===void 0?void 0:_customization$fields2.customDateFormat)||'MMM YYYY';if(!experience.endDate){if(!experience.startDate){return'';}return formatMessage(translations.since,{year:experience.startDate.format(displayFormat)});}var startDate=experience.startDate.isValid()?experience.startDate.format(displayFormat):'';var endDate=experience.endDate.isValid()?experience.endDate.format(displayFormat):'';return\"\".concat(startDate,\" - \").concat(endDate);},[experience,customization===null||customization===void 0?void 0:(_customization$fields3=customization.fields)===null||_customization$fields3===void 0?void 0:(_customization$fields4=_customization$fields3.work)===null||_customization$fields4===void 0?void 0:_customization$fields4.customDateFormat]);var title=useMemo(function(){if(typeof buildTitle==='function'){return buildTitle({experience:experience});}var builder=[];if(name){builder.push(name);}if(place===null||place===void 0?void 0:place.name){if(builder.length){builder.push(' - ');}builder.push(place.name);}if(builder.length){builder.push(/*#__PURE__*/_jsx(\"br\",{}));}builder.push(dateString);return builder.map(function(value,index){return/*#__PURE__*/_jsx(Fragment,{children:value},\"builder_part_\".concat(index));});},[buildTitle,experience]);return/*#__PURE__*/_jsxs(ProfileCardSection,{cardVariant:variant,children:[/*#__PURE__*/_jsx(ProfileCardSectionTitle,{children:position}),/*#__PURE__*/_jsx(ProfileCardSectionSubtitle,{classes:{container:classes.subtitle},children:title}),/*#__PURE__*/_jsx(ProfileCardSectionText,{children:summary})]},id);};var Content=function Content(_ref2){var _data$work;var data=_ref2.data,handleAddButtonClick=_ref2.handleAddButtonClick,classes=_ref2.classes;var hasWork=useMemo(function(){return existsAndNotEmpty(data===null||data===void 0?void 0:data.work);},[data]);var experiences=(_data$work=data.work)===null||_data$work===void 0?void 0:_data$work.filter(function(_ref3){var position=_ref3.position,summary=_ref3.summary;return Boolean(position&&summary);});if(!hasWork){return/*#__PURE__*/_jsx(NoWork,{handleAddButtonClick:handleAddButtonClick});}return experiences.map(function(experience){return/*#__PURE__*/_jsx(ExperienceContent,{experience:experience,classes:classes},\"work_experience_\".concat(experience.id));});};var ExperiencesBackComponent=function ExperiencesBackComponent(_ref4){var data=_ref4.data,handleAddButtonClick=_ref4.handleAddButtonClick;var classes=useStyles();return/*#__PURE__*/_jsx(ProfileCardAnimatedBack,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"Experience.back.title\",defaultMessage:\"Experiences\"}),children:/*#__PURE__*/_jsx(Content,{data:data,handleAddButtonClick:handleAddButtonClick,classes:classes})});};export var ExperiencesBack=/*#__PURE__*/memo(ExperiencesBackComponent);","map":{"version":3,"sources":["/home/gzamora/Documents/test/react-ultimate-resume/src/package/components/cards/cards_types/experiences/experiences_back/experiences_back.jsx"],"names":["React","Fragment","memo","useMemo","FormattedMessage","useIntl","createUseStyles","ProfileCardSection","ProfileCardSectionTitle","ProfileCardSectionText","ProfileCardAnimatedBack","ProfileCardSectionSubtitle","styles","translations","useAdditionalNodes","existsAndNotEmpty","NoWork","useCustomization","useStyles","ExperienceContent","experience","variant","classes","formatMessage","buildTitle","customization","id","name","summary","place","position","dateString","displayFormat","fields","work","customDateFormat","endDate","startDate","since","year","format","isValid","title","builder","push","length","map","value","index","container","subtitle","Content","data","handleAddButtonClick","hasWork","experiences","filter","Boolean","ExperiencesBackComponent","ExperiencesBack"],"mappings":"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","sourcesContent":["import React, { Fragment, memo, useMemo } from 'react';\n\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { createUseStyles } from 'react-jss';\n\nimport { ProfileCardSection } from '../../../../commons/profile_card/profile_card_section/profile_card_section';\nimport { ProfileCardSectionTitle } from '../../../../commons/profile_card/profile_card_section_title/profile_card_section_title';\nimport { ProfileCardSectionText } from '../../../../commons/profile_card/profile_card_section_text/profile_card_section_text';\nimport { ProfileCardAnimatedBack } from '../../../../commons/profile_card/profile_card_animated_back/profile_card_animated_back';\nimport { ProfileCardSectionSubtitle } from '../../../../commons/profile_card/profile_card_section_subtitle/profile_card_section_subtitle';\n\nimport { styles } from './experiences_back_styles';\nimport { translations } from './experiences_translations';\nimport { useAdditionalNodes } from '../../../../hooks/use_additional_nodes';\nimport { existsAndNotEmpty } from '../../../utils/exists_and_not_empty';\nimport { NoWork } from './no_work/no_work';\nimport { useCustomization } from '../../../../hooks/use_customization';\n\nconst useStyles = createUseStyles(styles);\n\nconst ExperienceContent = ({ experience, variant, classes }) => {\n    const { formatMessage } = useIntl();\n    const [buildTitle] = useAdditionalNodes('cards.experiences.back.experience.content.buildTitle', null);\n    const [customization] = useCustomization();\n    const { id, name, summary, place, position } = experience;\n    const dateString = useMemo(() => {\n        const displayFormat = customization?.fields?.work?.customDateFormat || 'MMM YYYY';\n        if (!experience.endDate) {\n            if (!experience.startDate) {\n                return '';\n            }\n            return formatMessage(translations.since, { year: experience.startDate.format(displayFormat) });\n        }\n        const startDate = experience.startDate.isValid() ? experience.startDate.format(displayFormat) : '';\n        const endDate = experience.endDate.isValid() ? experience.endDate.format(displayFormat) : '';\n        return `${startDate} - ${endDate}`;\n    }, [experience, customization?.fields?.work?.customDateFormat]);\n\n    const title = useMemo(() => {\n        if (typeof buildTitle === 'function') {\n            return buildTitle({ experience });\n        }\n        const builder = [];\n        if (name) {\n            builder.push(name);\n        }\n        if (place?.name) {\n            if (builder.length) {\n                builder.push(' - ');\n            }\n            builder.push(place.name);\n        }\n        if (builder.length) {\n            builder.push(<br />);\n        }\n        builder.push(dateString);\n        return builder.map((value, index) => <Fragment key={`builder_part_${index}`}>{value}</Fragment>);\n    }, [buildTitle, experience]);\n    return (\n        <ProfileCardSection key={id} cardVariant={variant}>\n            <ProfileCardSectionTitle>{position}</ProfileCardSectionTitle>\n            <ProfileCardSectionSubtitle classes={{ container: classes.subtitle }}>{title}</ProfileCardSectionSubtitle>\n            <ProfileCardSectionText>{summary}</ProfileCardSectionText>\n        </ProfileCardSection>\n    );\n};\n\nconst Content = ({ data, handleAddButtonClick, classes }) => {\n    const hasWork = useMemo(() => existsAndNotEmpty(data?.work), [data]);\n    const experiences = data.work?.filter(({ position, summary }) => Boolean(position && summary));\n\n    if (!hasWork) {\n        return <NoWork {...{ handleAddButtonClick }} />;\n    }\n    return experiences.map((experience) => (\n        <ExperienceContent key={`work_experience_${experience.id}`} experience={experience} classes={classes} />\n    ));\n};\n\nconst ExperiencesBackComponent = ({ data, handleAddButtonClick }) => {\n    const classes = useStyles();\n    return (\n        <ProfileCardAnimatedBack title={<FormattedMessage id=\"Experience.back.title\" defaultMessage=\"Experiences\" />}>\n            <Content {...{ data, handleAddButtonClick, classes }} />\n        </ProfileCardAnimatedBack>\n    );\n};\n\nexport const ExperiencesBack = memo(ExperiencesBackComponent);\n"]},"metadata":{},"sourceType":"module"}