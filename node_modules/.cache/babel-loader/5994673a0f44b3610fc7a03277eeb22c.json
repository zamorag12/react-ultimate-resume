{"ast":null,"code":"import _toConsumableArray from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{memo,useCallback,useContext,useMemo}from'react';import{FormattedMessage}from'react-intl';import{createUseStyles}from'react-jss';import{ProfileCardTitle}from'../../../../commons/profile_card/profile_card_title/profile_card_title';import{ProfileCardContent}from'../../../../commons/profile_card/profile_card_content/profile_card_content';import{ProjectSection}from'./project_section/project_section';import{DEFAULT_PROJECT_IMAGE}from'../utils/images';import{styles}from'./projects_back_styles';import{useCardVariant}from'../../../../hooks/profile_card_hooks/use_card_variant';import{DeveloperProfileContext}from'../../../../../utils/context/contexts';import{existsAndNotEmpty}from'../../../utils/exists_and_not_empty';import{NoProject}from'./no_project/no_project';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=createUseStyles(styles);var ProjectsBackComponent=function ProjectsBackComponent(_ref){var _data$projects2,_data$projects2$,_data$projects3,_data$projects3$,_data$projects4;var data=_ref.data,handleAddButtonClick=_ref.handleAddButtonClick;var _useCardVariant=useCardVariant(),_useCardVariant2=_slicedToArray(_useCardVariant,1),variant=_useCardVariant2[0];var _useContext=useContext(DeveloperProfileContext),onEdit=_useContext.onEdit;var classes=useStyles({variant:variant});var imageSrc=useMemo(function(){var _data$projects$0$imag,_data$projects,_data$projects$,_data$projects$$image;return(_data$projects$0$imag=(_data$projects=data.projects)===null||_data$projects===void 0?void 0:(_data$projects$=_data$projects[0])===null||_data$projects$===void 0?void 0:(_data$projects$$image=_data$projects$.images)===null||_data$projects$$image===void 0?void 0:_data$projects$$image.url)!==null&&_data$projects$0$imag!==void 0?_data$projects$0$imag:DEFAULT_PROJECT_IMAGE;},[(_data$projects2=data.projects)===null||_data$projects2===void 0?void 0:(_data$projects2$=_data$projects2[0])===null||_data$projects2$===void 0?void 0:_data$projects2$.images]);var alt=(_data$projects3=data.projects)===null||_data$projects3===void 0?void 0:(_data$projects3$=_data$projects3[0])===null||_data$projects3$===void 0?void 0:_data$projects3$.title;var handleProjectDeletion=useCallback(function(index){var newProjects=_toConsumableArray(data.projects);newProjects.splice(index,1);onEdit({projects:newProjects});},[data,onEdit]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ProfileCardTitle,{classes:{container:classes.title,typography:classes.typography},beforeTypography:/*#__PURE__*/_jsxs(\"div\",{className:classes.background,children:[imageSrc&&/*#__PURE__*/_jsx(\"img\",{className:classes.backgroundImage,src:imageSrc,alt:alt}),!imageSrc&&/*#__PURE__*/_jsx(\"div\",{className:classes.stubBackground})]}),children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"Projects.back.title\",defaultMessage:\"Projects\"})}),/*#__PURE__*/_jsxs(ProfileCardContent,{children:[(_data$projects4=data.projects)===null||_data$projects4===void 0?void 0:_data$projects4.map(function(project){return/*#__PURE__*/_jsx(ProjectSection,{project:project,onDelete:handleProjectDeletion},\"project_\".concat(project.id));}),!existsAndNotEmpty(data===null||data===void 0?void 0:data.projects)&&/*#__PURE__*/_jsx(NoProject,{handleAddButtonClick:handleAddButtonClick})]})]});};export var ProjectsBack=/*#__PURE__*/memo(ProjectsBackComponent);","map":{"version":3,"sources":["/home/gzamora/Documents/test/react-ultimate-resume/src/package/components/cards/cards_types/projects/projects_back/projects_back.jsx"],"names":["React","memo","useCallback","useContext","useMemo","FormattedMessage","createUseStyles","ProfileCardTitle","ProfileCardContent","ProjectSection","DEFAULT_PROJECT_IMAGE","styles","useCardVariant","DeveloperProfileContext","existsAndNotEmpty","NoProject","useStyles","ProjectsBackComponent","data","handleAddButtonClick","variant","onEdit","classes","imageSrc","projects","images","url","alt","title","handleProjectDeletion","index","newProjects","splice","container","typography","background","backgroundImage","stubBackground","map","project","id","ProjectsBack"],"mappings":"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","sourcesContent":["import React, { memo, useCallback, useContext, useMemo } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\nimport { createUseStyles } from 'react-jss';\n\nimport { ProfileCardTitle } from '../../../../commons/profile_card/profile_card_title/profile_card_title';\n\nimport { ProfileCardContent } from '../../../../commons/profile_card/profile_card_content/profile_card_content';\nimport { ProjectSection } from './project_section/project_section';\n\nimport { DEFAULT_PROJECT_IMAGE } from '../utils/images';\nimport { styles } from './projects_back_styles';\nimport { useCardVariant } from '../../../../hooks/profile_card_hooks/use_card_variant';\nimport { DeveloperProfileContext } from '../../../../../utils/context/contexts';\nimport { existsAndNotEmpty } from '../../../utils/exists_and_not_empty';\nimport { NoProject } from './no_project/no_project';\n\nconst useStyles = createUseStyles(styles);\n\nconst ProjectsBackComponent = ({ data, handleAddButtonClick }) => {\n    const [variant] = useCardVariant();\n    const { onEdit } = useContext(DeveloperProfileContext);\n    const classes = useStyles({ variant });\n\n    const imageSrc = useMemo(() => data.projects?.[0]?.images?.url ?? DEFAULT_PROJECT_IMAGE, [\n        data.projects?.[0]?.images\n    ]);\n    const alt = data.projects?.[0]?.title;\n\n    const handleProjectDeletion = useCallback(\n        (index) => {\n            const newProjects = [...data.projects];\n            newProjects.splice(index, 1);\n            onEdit({ projects: newProjects });\n        },\n        [data, onEdit]\n    );\n\n    return (\n        <>\n            <ProfileCardTitle\n                classes={{\n                    container: classes.title,\n                    typography: classes.typography\n                }}\n                beforeTypography={\n                    <div className={classes.background}>\n                        {imageSrc && <img className={classes.backgroundImage} src={imageSrc} alt={alt} />}\n                        {!imageSrc && <div className={classes.stubBackground} />}\n                    </div>\n                }\n            >\n                <FormattedMessage id=\"Projects.back.title\" defaultMessage=\"Projects\" />\n            </ProfileCardTitle>\n            <ProfileCardContent>\n                {data.projects?.map((project) => (\n                    <ProjectSection project={project} key={`project_${project.id}`} onDelete={handleProjectDeletion} />\n                ))}\n                {!existsAndNotEmpty(data?.projects) && <NoProject handleAddButtonClick={handleAddButtonClick} />}\n            </ProfileCardContent>\n        </>\n    );\n};\n\nexport const ProjectsBack = memo(ProjectsBackComponent);\n"]},"metadata":{},"sourceType":"module"}