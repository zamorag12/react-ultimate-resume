{"ast":null,"code":"import React,{useCallback}from'react';import{createUseStyles}from'react-jss';import{SortableContainer,SortableElement,SortableHandle}from'react-sortable-hoc';import{FormattedMessage}from'react-intl';import{GifCard}from'../gif_card/gif_card';import{BouncingRoundButton}from'../../../../../../commons/bouncing_round_button/bouncing_round_button';import{ReactComponent as MoveIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../../../../../assets/icons/move.svg\";import{styles}from'./gifs_sortable_cards_styles';import{jsx as _jsx}from\"react/jsx-runtime\";var useStyles=createUseStyles(styles);var GifsSortableCardsComponent=function GifsSortableCardsComponent(_ref){var _ref$items=_ref.items,items=_ref$items===void 0?[]:_ref$items,interestDeleted=_ref.interestDeleted,interestChanged=_ref.interestChanged,errors=_ref.errors,setSelectedIndex=_ref.setSelectedIndex,onSortEnd=_ref.onSortEnd;var classes=useStyles();return/*#__PURE__*/_jsx(SortableGifsCards,{useDragHandle:true,axis:\"xy\",items:items,interestDeleted:interestDeleted,interestChanged:interestChanged,errors:errors,setSelectedIndex:setSelectedIndex,onSortEnd:onSortEnd,classes:classes});};var SortableGifsCards=SortableContainer(function(_ref2){var _ref2$items=_ref2.items,items=_ref2$items===void 0?[]:_ref2$items,interestDeleted=_ref2.interestDeleted,interestChanged=_ref2.interestChanged,errors=_ref2.errors,setSelectedIndex=_ref2.setSelectedIndex,classes=_ref2.classes;return/*#__PURE__*/_jsx(\"ul\",{className:classes.list,children:items.filter(Boolean).sort(function(_ref3,_ref4){var a=_ref3.index;var b=_ref4.index;return a-b;}).map(function(interest,index){return/*#__PURE__*/_jsx(SortableGifItem,{index:index,onChange:interestChanged,onRemove:interestDeleted,setSelectedIndex:setSelectedIndex,id:interest.id,interest:interest,error:errors===null||errors===void 0?void 0:errors[index],interestIndex:index,classes:classes},\"interest_\".concat(interest.id,\"_\").concat(index));})});});var DragHandle=SortableHandle(function(){return/*#__PURE__*/_jsx(BouncingRoundButton,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"GifsEditDialog.gifCard.dragGif\",defaultMessage:\"Hold me to drag this card!\"}),icon:MoveIcon,tooltipPlacement:\"bottom\"});});var SortableGifItem=SortableElement(function(_ref5){var id=_ref5.id,interest=_ref5.interest,onChange=_ref5.onChange,onRemove=_ref5.onRemove,fieldErrors=_ref5.error,index=_ref5.interestIndex,setSelectedIndex=_ref5.setSelectedIndex,classes=_ref5.classes;var handleRemove=useCallback(function(){return onRemove(id);},[id,onRemove]);var handleChange=useCallback(function(field){return function(value){return onChange(index,field,value);};},[onChange]);var handleImageEditClick=useCallback(function(){return setSelectedIndex(index);},[]);return/*#__PURE__*/_jsx(\"li\",{className:classes.listItem,children:/*#__PURE__*/_jsx(GifCard,{imageEditable:true,gifUrl:interest===null||interest===void 0?void 0:interest.gifUrl,gifUser:interest===null||interest===void 0?void 0:interest.gifUser,name:interest===null||interest===void 0?void 0:interest.name,onChange:handleChange,onRemove:handleRemove,onImageEditClick:handleImageEditClick,error:fieldErrors,additionalActions:/*#__PURE__*/_jsx(DragHandle,{})})});});export var GifsSortableCards=GifsSortableCardsComponent;","map":{"version":3,"sources":["/home/gzamora/Documents/test/react-ultimate-resume/src/package/components/cards/cards_types/gifs/gifs_edit_dialog/gifs_edit_form/gifs_sortable_cards/gifs_sortable_cards.jsx"],"names":["React","useCallback","createUseStyles","SortableContainer","SortableElement","SortableHandle","FormattedMessage","GifCard","BouncingRoundButton","styles","useStyles","GifsSortableCardsComponent","items","interestDeleted","interestChanged","errors","setSelectedIndex","onSortEnd","classes","SortableGifsCards","list","filter","Boolean","sort","a","index","b","map","interest","id","DragHandle","MoveIcon","SortableGifItem","onChange","onRemove","fieldErrors","error","interestIndex","handleRemove","handleChange","field","value","handleImageEditClick","listItem","gifUrl","gifUser","name","GifsSortableCards"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react';\n\nimport { createUseStyles } from 'react-jss';\nimport { SortableContainer, SortableElement, SortableHandle } from 'react-sortable-hoc';\n\nimport { FormattedMessage } from 'react-intl';\nimport { GifCard } from '../gif_card/gif_card';\nimport { BouncingRoundButton } from '../../../../../../commons/bouncing_round_button/bouncing_round_button';\n\nimport { ReactComponent as MoveIcon } from '../../../../../../../assets/icons/move.svg';\n\nimport { styles } from './gifs_sortable_cards_styles';\n\nconst useStyles = createUseStyles(styles);\n\nconst GifsSortableCardsComponent = ({\n    items = [],\n    interestDeleted,\n    interestChanged,\n    errors,\n    setSelectedIndex,\n    onSortEnd\n}) => {\n    const classes = useStyles();\n    return (\n        <SortableGifsCards\n            useDragHandle\n            axis=\"xy\"\n            items={items}\n            interestDeleted={interestDeleted}\n            interestChanged={interestChanged}\n            errors={errors}\n            setSelectedIndex={setSelectedIndex}\n            onSortEnd={onSortEnd}\n            classes={classes}\n        />\n    );\n};\n\nconst SortableGifsCards = SortableContainer(\n    ({ items = [], interestDeleted, interestChanged, errors, setSelectedIndex, classes }) => (\n        <ul className={classes.list}>\n            {items\n                .filter(Boolean)\n                .sort(({ index: a }, { index: b }) => a - b)\n                .map((interest, index) => (\n                    <SortableGifItem\n                        index={index}\n                        key={`interest_${interest.id}_${index}`}\n                        onChange={interestChanged}\n                        onRemove={interestDeleted}\n                        setSelectedIndex={setSelectedIndex}\n                        id={interest.id}\n                        interest={interest}\n                        error={errors?.[index]}\n                        interestIndex={index}\n                        classes={classes}\n                    />\n                ))}\n        </ul>\n    )\n);\n\nconst DragHandle = SortableHandle(() => (\n    <BouncingRoundButton\n        title={<FormattedMessage id=\"GifsEditDialog.gifCard.dragGif\" defaultMessage=\"Hold me to drag this card!\" />}\n        icon={MoveIcon}\n        tooltipPlacement=\"bottom\"\n    />\n));\n\nconst SortableGifItem = SortableElement(\n    ({ id, interest, onChange, onRemove, error: fieldErrors, interestIndex: index, setSelectedIndex, classes }) => {\n        const handleRemove = useCallback(() => onRemove(id), [id, onRemove]);\n        const handleChange = useCallback((field) => (value) => onChange(index, field, value), [onChange]);\n        const handleImageEditClick = useCallback(() => setSelectedIndex(index), []);\n        return (\n            <li className={classes.listItem}>\n                <GifCard\n                    imageEditable\n                    gifUrl={interest?.gifUrl}\n                    gifUser={interest?.gifUser}\n                    name={interest?.name}\n                    onChange={handleChange}\n                    onRemove={handleRemove}\n                    onImageEditClick={handleImageEditClick}\n                    error={fieldErrors}\n                    additionalActions={<DragHandle />}\n                />\n            </li>\n        );\n    }\n);\n\nexport const GifsSortableCards = GifsSortableCardsComponent;\n"]},"metadata":{},"sourceType":"module"}