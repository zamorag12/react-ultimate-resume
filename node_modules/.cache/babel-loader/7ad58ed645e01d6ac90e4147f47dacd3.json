{"ast":null,"code":"import _slicedToArray from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{memo,useCallback,useEffect,useMemo,useRef,useState}from'react';import cn from'classnames';import{FormattedMessage}from'react-intl';import{createUseStyles}from'react-jss';import{Typography}from'@welovedevs/ui';import{ProfileCardActions}from'../../../../commons/profile_card/profile_card_actions/profile_card_actions';import{ProfileCardButton}from'../../../../commons/profile_card/profile_card_button/profile_card_button';import{GifsSidesCommons}from'../gifs_sides_commons/gifs_sides_commons';import{useCardSide}from'../../../../hooks/profile_card_hooks/use_card_side';import{ProfileCardFrontTypography}from'../../../../commons/profile_card/profile_card_front_typography/profile_card_front_typography';import{ProfileCardPaddedFront}from'../../../../commons/profile_card/profile_card_padded_front/profile_card_padding_front';import{SIDES}from'../../../../commons/profile_card/profile_card_side/side';import{styles}from'./gifs_front_styles';import{existsAndNotEmpty}from'../../../utils/exists_and_not_empty';import{NoDataButton}from'../../../../commons/no_data_button/no_data_button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createUseStyles(styles);var GifsFrontComponent=function GifsFrontComponent(_ref){var _data$interests$,_data$interests;var data=_ref.data,handleAddButtonClick=_ref.handleAddButtonClick;var classes=useStyles();var _useCardSide=useCardSide(),_useCardSide2=_slicedToArray(_useCardSide,2),side=_useCardSide2[0],setSide=_useCardSide2[1];var handleButtonClick=useCallback(function(){return setSide(side===SIDES.FRONT?SIDES.BACK:SIDES.FRONT);},[side,setSide]);var _ref2=(_data$interests$=(_data$interests=data.interests)===null||_data$interests===void 0?void 0:_data$interests[0])!==null&&_data$interests$!==void 0?_data$interests$:{},gifUrl=_ref2.gifUrl,name=_ref2.name,gifUser=_ref2.gifUser;var hasHobby=useMemo(function(){return existsAndNotEmpty(data===null||data===void 0?void 0:data.interests);},[data]);return/*#__PURE__*/_jsxs(GifsSidesCommons,{classes:{container:classes.container},underLayer:gifUrl&&/*#__PURE__*/_jsx(\"img\",{className:classes.image,src:gifUrl,alt:name}),gifUser:gifUser,children:[!gifUrl&&/*#__PURE__*/_jsx(ProfileCardPaddedFront,{classes:{container:classes.paddedFront},children:/*#__PURE__*/_jsx(Content,{hasHobby:hasHobby,name:name,handleAddButtonClick:handleAddButtonClick,classes:classes})}),hasHobby&&/*#__PURE__*/_jsx(ProfileCardActions,{children:/*#__PURE__*/_jsx(ProfileCardButton,{onClick:handleButtonClick,overrideColor:\"light\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"Gifs.front.action\",defaultMessage:\"See all hobbies\"})})})]});};var Content=function Content(_ref3){var hasHobby=_ref3.hasHobby,name=_ref3.name,handleAddButtonClick=_ref3.handleAddButtonClick,classes=_ref3.classes;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isTypographyTruncated=_useState2[0],setIsTypographyTruncated=_useState2[1];var typographyReference=useRef();useEffect(function(){var element=typographyReference.current;if(!element){return;}if((element===null||element===void 0?void 0:element.offsetHeight)>(element===null||element===void 0?void 0:element.scrollHeight)-1){setIsTypographyTruncated(false);}},[]);if(!hasHobby){return/*#__PURE__*/_jsxs(\"div\",{className:classes.noHobby,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h3\",classes:{container:classes.noHobbyTypography},children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"Gifs.front.noHobby\",defaultMessage:\"Vous n'avez pas encore ajout\\xE9 de hobbies !\"})}),/*#__PURE__*/_jsx(NoDataButton,{handleAddButtonClick:handleAddButtonClick,classes:{container:classes.addButton},color:\"secondary\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"Gifs.noHobby.buttonLabel\",defaultMessage:\"Ajouter un hobby\"})})]});}return/*#__PURE__*/_jsx(ProfileCardFrontTypography,{ref:typographyReference,classes:{container:cn(classes.withoutGifTypography,isTypographyTruncated&&classes.truncatedTypography)},children:name});};export var GifsFront=/*#__PURE__*/memo(GifsFrontComponent);","map":{"version":3,"sources":["/home/gzamora/Documents/test/react-ultimate-resume/src/package/components/cards/cards_types/gifs/gifs_front/gifs_front.jsx"],"names":["React","memo","useCallback","useEffect","useMemo","useRef","useState","cn","FormattedMessage","createUseStyles","Typography","ProfileCardActions","ProfileCardButton","GifsSidesCommons","useCardSide","ProfileCardFrontTypography","ProfileCardPaddedFront","SIDES","styles","existsAndNotEmpty","NoDataButton","useStyles","GifsFrontComponent","data","handleAddButtonClick","classes","side","setSide","handleButtonClick","FRONT","BACK","interests","gifUrl","name","gifUser","hasHobby","container","image","paddedFront","Content","isTypographyTruncated","setIsTypographyTruncated","typographyReference","element","current","offsetHeight","scrollHeight","noHobby","noHobbyTypography","addButton","withoutGifTypography","truncatedTypography","GifsFront"],"mappings":"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","sourcesContent":["import React, { memo, useCallback, useEffect, useMemo, useRef, useState } from 'react';\n\nimport cn from 'classnames';\nimport { FormattedMessage } from 'react-intl';\nimport { createUseStyles } from 'react-jss';\n\nimport { Typography } from '@welovedevs/ui';\nimport { ProfileCardActions } from '../../../../commons/profile_card/profile_card_actions/profile_card_actions';\nimport { ProfileCardButton } from '../../../../commons/profile_card/profile_card_button/profile_card_button';\nimport { GifsSidesCommons } from '../gifs_sides_commons/gifs_sides_commons';\n\nimport { useCardSide } from '../../../../hooks/profile_card_hooks/use_card_side';\n\nimport { ProfileCardFrontTypography } from '../../../../commons/profile_card/profile_card_front_typography/profile_card_front_typography';\nimport { ProfileCardPaddedFront } from '../../../../commons/profile_card/profile_card_padded_front/profile_card_padding_front';\nimport { SIDES } from '../../../../commons/profile_card/profile_card_side/side';\n\nimport { styles } from './gifs_front_styles';\nimport { existsAndNotEmpty } from '../../../utils/exists_and_not_empty';\nimport { NoDataButton } from '../../../../commons/no_data_button/no_data_button';\n\nconst useStyles = createUseStyles(styles);\n\nconst GifsFrontComponent = ({ data, handleAddButtonClick }) => {\n    const classes = useStyles();\n    const [side, setSide] = useCardSide();\n\n    const handleButtonClick = useCallback(() => setSide(side === SIDES.FRONT ? SIDES.BACK : SIDES.FRONT), [\n        side,\n        setSide\n    ]);\n\n    const { gifUrl, name, gifUser } = data.interests?.[0] ?? {};\n\n    const hasHobby = useMemo(() => existsAndNotEmpty(data?.interests), [data]);\n\n    return (\n        <GifsSidesCommons\n            classes={{\n                container: classes.container\n            }}\n            underLayer={gifUrl && <img className={classes.image} src={gifUrl} alt={name} />}\n            gifUser={gifUser}\n        >\n            {!gifUrl && (\n                <ProfileCardPaddedFront classes={{ container: classes.paddedFront }}>\n                    <Content {...{ hasHobby, name, handleAddButtonClick, classes }} />\n                </ProfileCardPaddedFront>\n            )}\n            {hasHobby && (\n                <ProfileCardActions>\n                    <ProfileCardButton onClick={handleButtonClick} overrideColor=\"light\">\n                        <FormattedMessage id=\"Gifs.front.action\" defaultMessage=\"See all hobbies\" />\n                    </ProfileCardButton>\n                </ProfileCardActions>\n            )}\n        </GifsSidesCommons>\n    );\n};\n\nconst Content = ({ hasHobby, name, handleAddButtonClick, classes }) => {\n    const [isTypographyTruncated, setIsTypographyTruncated] = useState(true);\n    const typographyReference = useRef();\n\n    useEffect(() => {\n        const element = typographyReference.current;\n        if (!element) {\n            return;\n        }\n        if (element?.offsetHeight > element?.scrollHeight - 1) {\n            setIsTypographyTruncated(false);\n        }\n    }, []);\n\n    if (!hasHobby) {\n        return (\n            <div className={classes.noHobby}>\n                <Typography variant=\"h3\" component=\"h3\" classes={{ container: classes.noHobbyTypography }}>\n                    <FormattedMessage\n                        id=\"Gifs.front.noHobby\"\n                        defaultMessage=\"Vous n'avez pas encore ajouté de hobbies !\"\n                    />\n                </Typography>\n                <NoDataButton\n                    handleAddButtonClick={handleAddButtonClick}\n                    classes={{\n                        container: classes.addButton\n                    }}\n                    color=\"secondary\"\n                >\n                    <FormattedMessage id=\"Gifs.noHobby.buttonLabel\" defaultMessage=\"Ajouter un hobby\" />\n                </NoDataButton>\n            </div>\n        );\n    }\n\n    return (\n        <ProfileCardFrontTypography\n            ref={typographyReference}\n            classes={{\n                container: cn(classes.withoutGifTypography, isTypographyTruncated && classes.truncatedTypography)\n            }}\n        >\n            {name}\n        </ProfileCardFrontTypography>\n    );\n};\n\nexport const GifsFront = memo(GifsFrontComponent);\n"]},"metadata":{},"sourceType":"module"}