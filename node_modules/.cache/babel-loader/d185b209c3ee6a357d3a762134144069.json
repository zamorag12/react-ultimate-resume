{"ast":null,"code":"import _regeneratorRuntime from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useState}from'react';import{FormattedMessage}from'react-intl';import{createUseStyles}from'react-jss';import isArray from'lodash/isArray';import mergeWith from'lodash/mergeWith';import omit from'lodash/omit';import cloneDeep from'lodash/cloneDeep';import download from'downloadjs';import{Button}from'@welovedevs/ui';import JsonStub from'./data/json_stub.json';import DeveloperProfile from'./package';import{ReactComponent as SaveIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!./package/assets/icons/drop_file.svg\";import{styles}from'./app_styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createUseStyles(styles);var mergeFunction=function mergeFunction(objValue,srcValue){if(!objValue||isArray(objValue)){return srcValue;}return undefined;};var mode=process.env.REACT_APP_MODE||'edit';function App(){var classes=useStyles();var _useState=useState(omit(JsonStub,'resumeCustomization')),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var onEdit=useCallback(function(newData){return setData(mergeWith(cloneDeep(data),newData,mergeFunction));},[JSON.stringify(data)]);var _useState3=useState(JsonStub.resumeCustomization||{}),_useState4=_slicedToArray(_useState3,2),customization=_useState4[0],setCustomization=_useState4[1];var onCustomizationChanged=useCallback(setCustomization,[data]);var handleClick=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _data$basics;var blob;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// eslint-disable-next-line no-undef\nblob=new Blob([JSON.stringify(_objectSpread(_objectSpread({},data),{},{resumeCustomization:customization}))],{type:'text/plain; charset=utf-8'});download(blob,\"\".concat(\"Resume-\".concat((data===null||data===void 0?void 0:(_data$basics=data.basics)===null||_data$basics===void 0?void 0:_data$basics.name)||'Developer').replace(' ','-'),\".json\"),'text/plain; charset=utf-8');case 2:case\"end\":return _context.stop();}}},_callee);})),[JSON.stringify(data),JSON.stringify(customization)]);return/*#__PURE__*/_jsx(DeveloperProfile,{mode:mode,data:data,onEdit:onEdit,onCustomizationChanged:onCustomizationChanged,options:{locale:'en',// side: 'back',\napiKeys:{giphy:process.env.REACT_APP_GIPHY},endpoints:{devicons:'https://firebasestorage.googleapis.com/v0/b/jechercheundev.appspot.com/o/technologies%2Ftechnologies_list.json?alt=media&token=459028ba-d9bc-4480-a3c4-88633afab7e2'},// dismissFooter : true\n// showContactInfos: true,\n// maxSkills: 6,\ncustomization:customization,disableSortableExperience:false,maxCardsPerRow:3},additionalNodes:{banner:{actionsButtons:mode==='edit'&&/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",onClick:handleClick,color:'light',children:[/*#__PURE__*/_jsx(SaveIcon,{className:classes.saveIcon}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"Profile.header.jsonResume.download\",defaultMessage:\"Export\"})]})}}});}export default App;","map":{"version":3,"sources":["/home/gzamora/Documents/test/react-ultimate-resume/src/App.jsx"],"names":["React","useCallback","useState","FormattedMessage","createUseStyles","isArray","mergeWith","omit","cloneDeep","download","Button","JsonStub","DeveloperProfile","styles","useStyles","mergeFunction","objValue","srcValue","undefined","mode","process","env","REACT_APP_MODE","App","classes","data","setData","onEdit","newData","JSON","stringify","resumeCustomization","customization","setCustomization","onCustomizationChanged","handleClick","blob","Blob","type","basics","name","replace","locale","apiKeys","giphy","REACT_APP_GIPHY","endpoints","devicons","disableSortableExperience","maxCardsPerRow","banner","actionsButtons","saveIcon"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { createUseStyles } from 'react-jss';\nimport isArray from 'lodash/isArray';\nimport mergeWith from 'lodash/mergeWith';\nimport omit from 'lodash/omit';\nimport cloneDeep from 'lodash/cloneDeep';\nimport download from 'downloadjs';\nimport { Button } from '@welovedevs/ui';\n\nimport JsonStub from './data/json_stub.json';\nimport DeveloperProfile from './package';\nimport { ReactComponent as SaveIcon } from './package/assets/icons/drop_file.svg';\n\nimport { styles } from './app_styles';\n\nconst useStyles = createUseStyles(styles);\nconst mergeFunction = (objValue, srcValue) => {\n    if (!objValue || isArray(objValue)) {\n        return srcValue;\n    }\n    return undefined;\n};\n\nconst mode = process.env.REACT_APP_MODE || 'edit';\n\nfunction App() {\n    const classes = useStyles();\n    const [data, setData] = useState(omit(JsonStub, 'resumeCustomization'));\n\n    const onEdit = useCallback((newData) => setData(mergeWith(cloneDeep(data), newData, mergeFunction)), [\n        JSON.stringify(data)\n    ]);\n    const [customization, setCustomization] = useState(JsonStub.resumeCustomization || {});\n\n    const onCustomizationChanged = useCallback(setCustomization, [data]);\n\n    const handleClick = useCallback(async () => {\n        // eslint-disable-next-line no-undef\n        const blob = new Blob([JSON.stringify({ ...data, resumeCustomization: customization })], {\n            type: 'text/plain; charset=utf-8'\n        });\n        download(\n            blob,\n            `${`Resume-${data?.basics?.name || 'Developer'}`.replace(' ', '-')}.json`,\n            'text/plain; charset=utf-8'\n        );\n    }, [JSON.stringify(data), JSON.stringify(customization)]);\n\n    return (\n        <DeveloperProfile\n            mode={mode}\n            data={data}\n            onEdit={onEdit}\n            onCustomizationChanged={onCustomizationChanged}\n            options={{\n                locale: 'en',\n                // side: 'back',\n                apiKeys: {\n                    giphy: process.env.REACT_APP_GIPHY\n                },\n                endpoints: {\n                    devicons:\n                        'https://firebasestorage.googleapis.com/v0/b/jechercheundev.appspot.com/o/technologies%2Ftechnologies_list.json?alt=media&token=459028ba-d9bc-4480-a3c4-88633afab7e2'\n                },\n                // dismissFooter : true\n                // showContactInfos: true,\n                // maxSkills: 6,\n                customization,\n                disableSortableExperience: false,\n                maxCardsPerRow: 3\n            }}\n            additionalNodes={{\n                banner: {\n                    actionsButtons: mode === 'edit' && (\n                        <Button variant=\"outlined\" onClick={handleClick} color={'light'}>\n                            <SaveIcon className={classes.saveIcon} />\n                            <FormattedMessage id=\"Profile.header.jsonResume.download\" defaultMessage=\"Export\" />\n                        </Button>\n                    )\n                }\n            }}\n        />\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}