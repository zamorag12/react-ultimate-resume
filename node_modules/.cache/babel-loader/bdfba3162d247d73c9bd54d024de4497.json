{"ast":null,"code":"import _slicedToArray from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,memo,useCallback,useState}from'react';import{createUseStyles}from'react-jss';import{SortableContainer,SortableElement,arrayMove}from'react-sortable-hoc';import cloneDeep from'lodash/cloneDeep';import{List}from'@welovedevs/ui';import{CardStub}from'../card_stub/card_stub';import{DEFAULT_CARD_ORDER}from'../../../../cards/utils/cards_order';import{styles}from'./cards_orderer_styles';import{jsx as _jsx}from\"react/jsx-runtime\";var useStyles=createUseStyles(styles);var SortableCard=SortableElement(/*#__PURE__*/memo(CardStub));export var Context=/*#__PURE__*/createContext({});var CardsOrdererComponent=function CardsOrdererComponent(_ref){var onChange=_ref.onChange,_ref$value=_ref.value,cardsOrder=_ref$value===void 0?DEFAULT_CARD_ORDER:_ref$value;var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSorting=_useState2[0],setIsSorting=_useState2[1];var onMove=useCallback(function(_ref2){var oldIndex=_ref2.oldIndex,newIndex=_ref2.newIndex;setIsSorting(false);onChange(arrayMove(cloneDeep(cardsOrder),oldIndex,newIndex));},[cardsOrder,onChange]);var onItemChanged=useCallback(function(index,value){var newValue=cloneDeep(cardsOrder);newValue[index]=value;onChange(newValue);},[cardsOrder,onChange]);var handleSortStart=useCallback(function(){return setIsSorting(true);},[]);return/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsx(Context.Provider,{value:{isSorting:isSorting},children:/*#__PURE__*/_jsx(SortableCards,{lockToContainerEdges:true,axis:\"xy\",helperClass:classes.sortableHelper,items:cardsOrder,onItemChanged:onItemChanged,distance:15,onSortStart:handleSortStart,onSortEnd:onMove,classes:classes})})});};var SortableCards=SortableContainer(function(_ref3){var _ref3$items=_ref3.items,items=_ref3$items===void 0?[]:_ref3$items,onItemChanged=_ref3.onItemChanged;var classes=useStyles();return/*#__PURE__*/_jsx(List,{className:classes.cardsContainer,children:items.map(function(item,index){return/*#__PURE__*/_jsx(SortableCard,{onItemChanged:onItemChanged,index:index,cardIndex:index,className:classes.sortableCard,data:item},\"card_orderer_\".concat(index,\"_\").concat(item.type));})});});export var CardsOrderer=CardsOrdererComponent;","map":{"version":3,"sources":["/home/gzamora/Documents/test/react-ultimate-resume/src/package/components/banner/user_actions_row/customize_dialog/card_orderer/cards_orderer.jsx"],"names":["React","createContext","memo","useCallback","useState","createUseStyles","SortableContainer","SortableElement","arrayMove","cloneDeep","List","CardStub","DEFAULT_CARD_ORDER","styles","useStyles","SortableCard","Context","CardsOrdererComponent","onChange","value","cardsOrder","classes","isSorting","setIsSorting","onMove","oldIndex","newIndex","onItemChanged","index","newValue","handleSortStart","container","sortableHelper","SortableCards","items","cardsContainer","map","item","sortableCard","type","CardsOrderer"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,IAA/B,CAAqCC,WAArC,CAAkDC,QAAlD,KAAkE,OAAlE,CAEA,OAASC,eAAT,KAAgC,WAAhC,CACA,OAASC,iBAAT,CAA4BC,eAA5B,CAA6CC,SAA7C,KAA8D,oBAA9D,CACA,MAAOC,CAAAA,SAAP,KAAsB,kBAAtB,CAEA,OAASC,IAAT,KAAqB,gBAArB,CAEA,OAASC,QAAT,KAAyB,wBAAzB,CACA,OAASC,kBAAT,KAAmC,qCAAnC,CAEA,OAASC,MAAT,KAAuB,wBAAvB,C,2CAEA,GAAMC,CAAAA,SAAS,CAAGT,eAAe,CAACQ,MAAD,CAAjC,CAEA,GAAME,CAAAA,YAAY,CAAGR,eAAe,cAACL,IAAI,CAACS,QAAD,CAAL,CAApC,CAEA,MAAO,IAAMK,CAAAA,OAAO,cAAGf,aAAa,CAAC,EAAD,CAA7B,CAEP,GAAMgB,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,MAA0D,IAAvDC,CAAAA,QAAuD,MAAvDA,QAAuD,iBAA7CC,KAA6C,CAAtCC,UAAsC,qBAAzBR,kBAAyB,YACpF,GAAMS,CAAAA,OAAO,CAAGP,SAAS,EAAzB,CADoF,cAElDV,QAAQ,CAAC,KAAD,CAF0C,wCAE7EkB,SAF6E,eAElEC,YAFkE,eAGpF,GAAMC,CAAAA,MAAM,CAAGrB,WAAW,CACtB,eAA4B,IAAzBsB,CAAAA,QAAyB,OAAzBA,QAAyB,CAAfC,QAAe,OAAfA,QAAe,CACxBH,YAAY,CAAC,KAAD,CAAZ,CACAL,QAAQ,CAACV,SAAS,CAACC,SAAS,CAACW,UAAD,CAAV,CAAwBK,QAAxB,CAAkCC,QAAlC,CAAV,CAAR,CACH,CAJqB,CAKtB,CAACN,UAAD,CAAaF,QAAb,CALsB,CAA1B,CAOA,GAAMS,CAAAA,aAAa,CAAGxB,WAAW,CAC7B,SAACyB,KAAD,CAAQT,KAAR,CAAkB,CACd,GAAMU,CAAAA,QAAQ,CAAGpB,SAAS,CAACW,UAAD,CAA1B,CACAS,QAAQ,CAACD,KAAD,CAAR,CAAkBT,KAAlB,CACAD,QAAQ,CAACW,QAAD,CAAR,CACH,CAL4B,CAM7B,CAACT,UAAD,CAAaF,QAAb,CAN6B,CAAjC,CASA,GAAMY,CAAAA,eAAe,CAAG3B,WAAW,CAAC,iBAAMoB,CAAAA,YAAY,CAAC,IAAD,CAAlB,EAAD,CAA2B,EAA3B,CAAnC,CAEA,mBACI,YAAK,SAAS,CAAEF,OAAO,CAACU,SAAxB,uBACI,KAAC,OAAD,CAAS,QAAT,EAAkB,KAAK,CAAE,CAAET,SAAS,CAATA,SAAF,CAAzB,uBACI,KAAC,aAAD,EACI,oBAAoB,KADxB,CAEI,IAAI,CAAC,IAFT,CAGI,WAAW,CAAED,OAAO,CAACW,cAHzB,CAII,KAAK,CAAEZ,UAJX,CAKI,aAAa,CAAEO,aALnB,CAMI,QAAQ,CAAE,EANd,CAOI,WAAW,CAAEG,eAPjB,CAQI,SAAS,CAAEN,MARf,CASI,OAAO,CAAEH,OATb,EADJ,EADJ,EADJ,CAiBH,CAtCD,CAwCA,GAAMY,CAAAA,aAAa,CAAG3B,iBAAiB,CAAC,eAAmC,uBAAhC4B,KAAgC,CAAhCA,KAAgC,sBAAxB,EAAwB,aAApBP,aAAoB,OAApBA,aAAoB,CACvE,GAAMN,CAAAA,OAAO,CAAGP,SAAS,EAAzB,CAEA,mBACI,KAAC,IAAD,EAAM,SAAS,CAAEO,OAAO,CAACc,cAAzB,UACKD,KAAK,CAACE,GAAN,CAAU,SAACC,IAAD,CAAOT,KAAP,qBACP,KAAC,YAAD,EACI,aAAa,CAAED,aADnB,CAEI,KAAK,CAAEC,KAFX,CAGI,SAAS,CAAEA,KAHf,CAII,SAAS,CAAEP,OAAO,CAACiB,YAJvB,CAMI,IAAI,CAAED,IANV,yBAKyBT,KALzB,aAKkCS,IAAI,CAACE,IALvC,EADO,EAAV,CADL,EADJ,CAcH,CAjBsC,CAAvC,CAmBA,MAAO,IAAMC,CAAAA,YAAY,CAAGvB,qBAArB","sourcesContent":["import React, { createContext, memo, useCallback, useState } from 'react';\n\nimport { createUseStyles } from 'react-jss';\nimport { SortableContainer, SortableElement, arrayMove } from 'react-sortable-hoc';\nimport cloneDeep from 'lodash/cloneDeep';\n\nimport { List } from '@welovedevs/ui';\n\nimport { CardStub } from '../card_stub/card_stub';\nimport { DEFAULT_CARD_ORDER } from '../../../../cards/utils/cards_order';\n\nimport { styles } from './cards_orderer_styles';\n\nconst useStyles = createUseStyles(styles);\n\nconst SortableCard = SortableElement(memo(CardStub));\n\nexport const Context = createContext({});\n\nconst CardsOrdererComponent = ({ onChange, value: cardsOrder = DEFAULT_CARD_ORDER }) => {\n    const classes = useStyles();\n    const [isSorting, setIsSorting] = useState(false);\n    const onMove = useCallback(\n        ({ oldIndex, newIndex }) => {\n            setIsSorting(false);\n            onChange(arrayMove(cloneDeep(cardsOrder), oldIndex, newIndex));\n        },\n        [cardsOrder, onChange]\n    );\n    const onItemChanged = useCallback(\n        (index, value) => {\n            const newValue = cloneDeep(cardsOrder);\n            newValue[index] = value;\n            onChange(newValue);\n        },\n        [cardsOrder, onChange]\n    );\n\n    const handleSortStart = useCallback(() => setIsSorting(true), []);\n\n    return (\n        <div className={classes.container}>\n            <Context.Provider value={{ isSorting }}>\n                <SortableCards\n                    lockToContainerEdges\n                    axis=\"xy\"\n                    helperClass={classes.sortableHelper}\n                    items={cardsOrder}\n                    onItemChanged={onItemChanged}\n                    distance={15}\n                    onSortStart={handleSortStart}\n                    onSortEnd={onMove}\n                    classes={classes}\n                />\n            </Context.Provider>\n        </div>\n    );\n};\n\nconst SortableCards = SortableContainer(({ items = [], onItemChanged }) => {\n    const classes = useStyles();\n\n    return (\n        <List className={classes.cardsContainer}>\n            {items.map((item, index) => (\n                <SortableCard\n                    onItemChanged={onItemChanged}\n                    index={index}\n                    cardIndex={index}\n                    className={classes.sortableCard}\n                    key={`card_orderer_${index}_${item.type}`}\n                    data={item}\n                />\n            ))}\n        </List>\n    );\n});\n\nexport const CardsOrderer = CardsOrdererComponent;\n"]},"metadata":{},"sourceType":"module"}