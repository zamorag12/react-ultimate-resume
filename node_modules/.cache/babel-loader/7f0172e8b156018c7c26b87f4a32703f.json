{"ast":null,"code":"import _slicedToArray from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{memo,useCallback,useEffect,useRef,useState}from'react';import cn from'classnames';import{FormattedMessage}from'react-intl';import{createUseStyles}from'react-jss';import{CenterContentContainer}from'../../../../commons/center_content_container/center_content_container';import{ProfileCardActions}from'../../../../commons/profile_card/profile_card_actions/profile_card_actions';import{ProfileCardButton}from'../../../../commons/profile_card/profile_card_button/profile_card_button';import{ProfileCardPaddedFront}from'../../../../commons/profile_card/profile_card_padded_front/profile_card_padding_front';import{ProfileCardFrontTypography}from'../../../../commons/profile_card/profile_card_front_typography/profile_card_front_typography';import{ReactComponent as LocationIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../../../assets/icons/location.svg\";import{useCardSide}from'../../../../hooks/profile_card_hooks/use_card_side';import{useCardVariant}from'../../../../hooks/profile_card_hooks/use_card_variant';import{SIDES}from'../../../../commons/profile_card/profile_card_side/side';import{styles}from'./basics_front_styles';import{NoDataButton}from'../../../../commons/no_data_button/no_data_button';import{useMode}from'../../../../hooks/use_mode';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createUseStyles(styles);var BasicsFrontComponent=function BasicsFrontComponent(_ref){var _data$currentCity;var data=_ref.data,handleAddButtonClick=_ref.handleAddButtonClick;var _useMode=useMode(),_useMode2=_slicedToArray(_useMode,1),mode=_useMode2[0];var _useCardVariant=useCardVariant(),_useCardVariant2=_slicedToArray(_useCardVariant,1),variant=_useCardVariant2[0];var classes=useStyles({variant:variant});var _useCardSide=useCardSide(),_useCardSide2=_slicedToArray(_useCardSide,2),side=_useCardSide2[0],setSide=_useCardSide2[1];var handleButtonClick=useCallback(function(){return setSide(side===SIDES.FRONT?SIDES.BACK:SIDES.FRONT);},[side,setSide]);var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isMainTypographyTruncated=_useState2[0],setIsMainTypographyTruncated=_useState2[1];var mainTypographyReference=useRef();useEffect(function(){var element=mainTypographyReference.current;if((element===null||element===void 0?void 0:element.offsetHeight)>(element===null||element===void 0?void 0:element.scrollHeight)-1){setIsMainTypographyTruncated(false);}},[]);var currentCityName=data===null||data===void 0?void 0:(_data$currentCity=data.currentCity)===null||_data$currentCity===void 0?void 0:_data$currentCity.name;return/*#__PURE__*/_jsxs(ProfileCardPaddedFront,{children:[/*#__PURE__*/_jsxs(CenterContentContainer,{classes:{container:classes.container},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.texts,children:[/*#__PURE__*/_jsx(ProfileCardFrontTypography,{component:\"div\",ref:mainTypographyReference,classes:{container:cn(classes.mainTypography,isMainTypographyTruncated&&classes.truncatedMainTypography)},children:data.summary}),currentCityName&&/*#__PURE__*/_jsxs(ProfileCardFrontTypography,{variant:\"h4\",component:\"h3\",classes:{container:classes.location},children:[/*#__PURE__*/_jsx(LocationIcon,{className:classes.locationIcon}),currentCityName]})]}),!(data===null||data===void 0?void 0:data.personalDescription)&&mode==='edit'&&/*#__PURE__*/_jsx(NoDataButton,{handleAddButtonClick:handleAddButtonClick,classes:{container:classes.addButton},color:\"secondary\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"Basics.noDescription.buttonLabel\",defaultMessage:\"Ajouter une description\"})})]}),/*#__PURE__*/_jsx(ProfileCardActions,{children:/*#__PURE__*/_jsx(ProfileCardButton,{onClick:handleButtonClick,children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"Basics.front.action\",defaultMessage:\"More about me\"})})})]});};export var BasicsFront=/*#__PURE__*/memo(BasicsFrontComponent);","map":{"version":3,"sources":["/home/gzamora/Documents/test/react-ultimate-resume/src/package/components/cards/cards_types/basics/basics_front/basics_front.jsx"],"names":["React","memo","useCallback","useEffect","useRef","useState","cn","FormattedMessage","createUseStyles","CenterContentContainer","ProfileCardActions","ProfileCardButton","ProfileCardPaddedFront","ProfileCardFrontTypography","useCardSide","useCardVariant","SIDES","styles","NoDataButton","useMode","useStyles","BasicsFrontComponent","data","handleAddButtonClick","mode","variant","classes","side","setSide","handleButtonClick","FRONT","BACK","isMainTypographyTruncated","setIsMainTypographyTruncated","mainTypographyReference","element","current","offsetHeight","scrollHeight","currentCityName","currentCity","name","container","texts","mainTypography","truncatedMainTypography","summary","location","locationIcon","personalDescription","addButton","BasicsFront"],"mappings":"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","sourcesContent":["import React, { memo, useCallback, useEffect, useRef, useState } from 'react';\n\nimport cn from 'classnames';\n\nimport { FormattedMessage } from 'react-intl';\nimport { createUseStyles } from 'react-jss';\n\nimport { CenterContentContainer } from '../../../../commons/center_content_container/center_content_container';\nimport { ProfileCardActions } from '../../../../commons/profile_card/profile_card_actions/profile_card_actions';\nimport { ProfileCardButton } from '../../../../commons/profile_card/profile_card_button/profile_card_button';\nimport { ProfileCardPaddedFront } from '../../../../commons/profile_card/profile_card_padded_front/profile_card_padding_front';\nimport { ProfileCardFrontTypography } from '../../../../commons/profile_card/profile_card_front_typography/profile_card_front_typography';\n\nimport { ReactComponent as LocationIcon } from '../../../../../assets/icons/location.svg';\n\nimport { useCardSide } from '../../../../hooks/profile_card_hooks/use_card_side';\nimport { useCardVariant } from '../../../../hooks/profile_card_hooks/use_card_variant';\nimport { SIDES } from '../../../../commons/profile_card/profile_card_side/side';\n\nimport { styles } from './basics_front_styles';\nimport { NoDataButton } from '../../../../commons/no_data_button/no_data_button';\nimport { useMode } from '../../../../hooks/use_mode';\n\nconst useStyles = createUseStyles(styles);\n\nconst BasicsFrontComponent = ({ data, handleAddButtonClick }) => {\n    const [mode] = useMode();\n    const [variant] = useCardVariant();\n\n    const classes = useStyles({ variant });\n\n    const [side, setSide] = useCardSide();\n\n    const handleButtonClick = useCallback(() => setSide(side === SIDES.FRONT ? SIDES.BACK : SIDES.FRONT), [\n        side,\n        setSide\n    ]);\n\n    const [isMainTypographyTruncated, setIsMainTypographyTruncated] = useState(true);\n    const mainTypographyReference = useRef();\n\n    useEffect(() => {\n        const element = mainTypographyReference.current;\n        if (element?.offsetHeight > element?.scrollHeight - 1) {\n            setIsMainTypographyTruncated(false);\n        }\n    }, []);\n\n    const currentCityName = data?.currentCity?.name;\n\n    return (\n        <ProfileCardPaddedFront>\n            <CenterContentContainer classes={{ container: classes.container }}>\n                <div className={classes.texts}>\n                    <ProfileCardFrontTypography\n                        component=\"div\"\n                        ref={mainTypographyReference}\n                        classes={{\n                            container: cn(\n                                classes.mainTypography,\n                                isMainTypographyTruncated && classes.truncatedMainTypography\n                            )\n                        }}\n                    >\n                        {data.summary}\n                    </ProfileCardFrontTypography>\n                    {currentCityName && (\n                        <ProfileCardFrontTypography\n                            variant=\"h4\"\n                            component=\"h3\"\n                            classes={{ container: classes.location }}\n                        >\n                            <LocationIcon className={classes.locationIcon} />\n                            {currentCityName}\n                        </ProfileCardFrontTypography>\n                    )}\n                </div>\n                {!data?.personalDescription && mode === 'edit' && (\n                    <NoDataButton\n                        handleAddButtonClick={handleAddButtonClick}\n                        classes={{\n                            container: classes.addButton\n                        }}\n                        color=\"secondary\"\n                    >\n                        <FormattedMessage\n                            id=\"Basics.noDescription.buttonLabel\"\n                            defaultMessage=\"Ajouter une description\"\n                        />\n                    </NoDataButton>\n                )}\n            </CenterContentContainer>\n            <ProfileCardActions>\n                <ProfileCardButton onClick={handleButtonClick}>\n                    <FormattedMessage id=\"Basics.front.action\" defaultMessage=\"More about me\" />\n                </ProfileCardButton>\n            </ProfileCardActions>\n        </ProfileCardPaddedFront>\n    );\n};\n\nexport const BasicsFront = memo(BasicsFrontComponent);\n"]},"metadata":{},"sourceType":"module"}