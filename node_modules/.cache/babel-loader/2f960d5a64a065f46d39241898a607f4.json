{"ast":null,"code":"import _slicedToArray from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useMemo}from'react';import{FormattedMessage}from'react-intl';import{createUseStyles,useTheme}from'react-jss';import{Typography}from'@welovedevs/ui';import{ProfileCardSectionTitle}from'../../../../../commons/profile_card/profile_card_section_title/profile_card_section_title';import{ProfileCardSectionSubtitle}from'../../../../../commons/profile_card/profile_card_section_subtitle/profile_card_section_subtitle';import{ProfileCardSectionText}from'../../../../../commons/profile_card/profile_card_section_text/profile_card_section_text';import{ProfileCardSection}from'../../../../../commons/profile_card/profile_card_section/profile_card_section';import{SeeProjectDetail}from'../../see_project_detail/see_project_detail';import{AnimatedUnderlinedButton}from'../../../../../commons/animated_underlined_button/animated_underlined_button';import{ConfirmDialog}from'../../../../../commons/confirm_dialog/confirm_dialog';import{ReactComponent as LinkIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../../../../assets/icons/link.svg\";import{ReactComponent as RemoveIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../../../../assets/icons/remove_circle.svg\";import{useIsEditing}from'../../../../../hooks/use_is_editing';import{useCallbackOpen}from'../../../../../hooks/use_callback_open';import{styles}from'./project_section_styles';import{useCardVariant}from'../../../../../hooks/profile_card_hooks/use_card_variant';import{getColorsFromCardVariant}from'../../../../../../utils/styles/styles_utils';import{HttpRegex}from'../../data/validator';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=createUseStyles(styles);var ProjectSectionContainer=function ProjectSectionContainer(_ref){var project=_ref.project,cardVariant=_ref.cardVariant,onDelete=_ref.onDelete,index=_ref.index;var classes=useStyles();var descriptionChunks=useMemo(function(){var _project$description;return(_project$description=project.description)===null||_project$description===void 0?void 0:_project$description.split('\\n').map(function(descriptionChunk,chunkIndex){return/*#__PURE__*/_jsx(\"p\",{children:descriptionChunk},\"project_description_chunk_\".concat(project.id,\"_\").concat(chunkIndex));});},[project.description]);var formattedDate=useMemo(function(){var _project$date;return(_project$date=project.date)===null||_project$date===void 0?void 0:_project$date.year();},[project.date]);return/*#__PURE__*/_jsxs(ProfileCardSection,{cardVariant:cardVariant,children:[/*#__PURE__*/_jsx(ProfileCardSectionTitle,{children:project.name}),/*#__PURE__*/_jsx(ProfileCardSectionSubtitle,{children:formattedDate}),/*#__PURE__*/_jsx(ProfileCardSectionText,{classes:{container:classes.sectionText},children:descriptionChunks}),/*#__PURE__*/_jsx(Details,{classes:classes,project:project,onDelete:onDelete,index:index})]});};var Details=function Details(_ref2){var project=_ref2.project,index=_ref2.index,onDelete=_ref2.onDelete,classes=_ref2.classes;var theme=useTheme();var _useIsEditing=useIsEditing(),_useIsEditing2=_slicedToArray(_useIsEditing,1),isEditing=_useIsEditing2[0];var _useCardVariant=useCardVariant(),_useCardVariant2=_slicedToArray(_useCardVariant,1),variant=_useCardVariant2[0];var color=getColorsFromCardVariant(theme,variant).backColor;var projectLink=project.link;var link=useMemo(function(){if(!new RegExp(HttpRegex).test(projectLink)){return\"http://\".concat(projectLink);}return projectLink;},[projectLink]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.details,children:[project.link&&/*#__PURE__*/_jsx(\"div\",{className:classes.detail,children:/*#__PURE__*/_jsx(AnimatedUnderlinedButton,{color:color,children:/*#__PURE__*/_jsxs(\"a\",{className:classes.link,href:link,children:[/*#__PURE__*/_jsx(LinkIcon,{className:classes.detailIcon}),/*#__PURE__*/_jsx(Typography,{classes:{container:classes.detailTypography},color:\"primary\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"Project.section.link\",defaultMessage:\"Link\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:classes.detail,children:/*#__PURE__*/_jsx(SeeProjectDetail,{color:color,project:project})}),isEditing&&/*#__PURE__*/_jsx(RemoveProjectDetail,{color:color,index:index,onDelete:onDelete,classes:classes})]});};var RemoveProjectDetail=function RemoveProjectDetail(_ref3){var color=_ref3.color,index=_ref3.index,onDelete=_ref3.onDelete,classes=_ref3.classes;var _useCallbackOpen=useCallbackOpen(),_useCallbackOpen2=_slicedToArray(_useCallbackOpen,3),openDialog=_useCallbackOpen2[0],setDialogOpened=_useCallbackOpen2[1],setDialogClosed=_useCallbackOpen2[2];var handleConfirm=useCallback(function(){onDelete(index);setDialogClosed();},[onDelete,index]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ConfirmDialog,{open:openDialog,onClose:setDialogClosed,onConfirm:handleConfirm}),/*#__PURE__*/_jsx(\"div\",{className:classes.detail,children:/*#__PURE__*/_jsxs(AnimatedUnderlinedButton,{color:color,onClick:setDialogOpened,children:[/*#__PURE__*/_jsx(RemoveIcon,{className:classes.detailDeleteIcon}),/*#__PURE__*/_jsx(Typography,{classes:{container:classes.detailTypography},color:\"primary\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"Main.lang.delete\",defaultMessage:\"Delete\"})})]})})]});};export var ProjectSection=ProjectSectionContainer;","map":{"version":3,"sources":["/home/gzamora/Documents/test/react-ultimate-resume/src/package/components/cards/cards_types/projects/projects_back/project_section/project_section.jsx"],"names":["React","useCallback","useMemo","FormattedMessage","createUseStyles","useTheme","Typography","ProfileCardSectionTitle","ProfileCardSectionSubtitle","ProfileCardSectionText","ProfileCardSection","SeeProjectDetail","AnimatedUnderlinedButton","ConfirmDialog","useIsEditing","useCallbackOpen","styles","useCardVariant","getColorsFromCardVariant","HttpRegex","useStyles","ProjectSectionContainer","project","cardVariant","onDelete","index","classes","descriptionChunks","description","split","map","descriptionChunk","chunkIndex","id","formattedDate","date","year","name","container","sectionText","Details","theme","isEditing","variant","color","backColor","projectLink","link","RegExp","test","details","detail","detailIcon","detailTypography","RemoveProjectDetail","openDialog","setDialogOpened","setDialogClosed","handleConfirm","detailDeleteIcon","ProjectSection"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\nimport { createUseStyles, useTheme } from 'react-jss';\nimport { Typography } from '@welovedevs/ui';\n\nimport { ProfileCardSectionTitle } from '../../../../../commons/profile_card/profile_card_section_title/profile_card_section_title';\nimport { ProfileCardSectionSubtitle } from '../../../../../commons/profile_card/profile_card_section_subtitle/profile_card_section_subtitle';\nimport { ProfileCardSectionText } from '../../../../../commons/profile_card/profile_card_section_text/profile_card_section_text';\nimport { ProfileCardSection } from '../../../../../commons/profile_card/profile_card_section/profile_card_section';\nimport { SeeProjectDetail } from '../../see_project_detail/see_project_detail';\nimport { AnimatedUnderlinedButton } from '../../../../../commons/animated_underlined_button/animated_underlined_button';\nimport { ConfirmDialog } from '../../../../../commons/confirm_dialog/confirm_dialog';\n\nimport { ReactComponent as LinkIcon } from '../../../../../../assets/icons/link.svg';\nimport { ReactComponent as RemoveIcon } from '../../../../../../assets/icons/remove_circle.svg';\n\nimport { useIsEditing } from '../../../../../hooks/use_is_editing';\nimport { useCallbackOpen } from '../../../../../hooks/use_callback_open';\n\nimport { styles } from './project_section_styles';\nimport { useCardVariant } from '../../../../../hooks/profile_card_hooks/use_card_variant';\nimport { getColorsFromCardVariant } from '../../../../../../utils/styles/styles_utils';\nimport { HttpRegex } from '../../data/validator';\n\nconst useStyles = createUseStyles(styles);\n\nconst ProjectSectionContainer = ({ project, cardVariant, onDelete, index }) => {\n    const classes = useStyles();\n\n    const descriptionChunks = useMemo(\n        () =>\n            project.description\n                ?.split('\\n')\n                .map((descriptionChunk, chunkIndex) => (\n                    <p key={`project_description_chunk_${project.id}_${chunkIndex}`}>{descriptionChunk}</p>\n                )),\n        [project.description]\n    );\n\n    const formattedDate = useMemo(() => project.date?.year(), [project.date]);\n    return (\n        <ProfileCardSection cardVariant={cardVariant}>\n            <ProfileCardSectionTitle>{project.name}</ProfileCardSectionTitle>\n            <ProfileCardSectionSubtitle>{formattedDate}</ProfileCardSectionSubtitle>\n            <ProfileCardSectionText classes={{ container: classes.sectionText }}>\n                {descriptionChunks}\n            </ProfileCardSectionText>\n            <Details classes={classes} project={project} onDelete={onDelete} index={index} />\n        </ProfileCardSection>\n    );\n};\n\nconst Details = ({ project, index, onDelete, classes }) => {\n    const theme = useTheme();\n    const [isEditing] = useIsEditing();\n    const [variant] = useCardVariant();\n\n    const color = getColorsFromCardVariant(theme, variant).backColor;\n\n    const projectLink = project.link;\n\n    const link = useMemo(() => {\n        if (!new RegExp(HttpRegex).test(projectLink)) {\n            return `http://${projectLink}`;\n        }\n        return projectLink;\n    }, [projectLink]);\n\n    return (\n        <div className={classes.details}>\n            {project.link && (\n                <div className={classes.detail}>\n                    <AnimatedUnderlinedButton color={color}>\n                        <a className={classes.link} href={link}>\n                            <LinkIcon className={classes.detailIcon} />\n                            <Typography classes={{ container: classes.detailTypography }} color=\"primary\">\n                                <FormattedMessage id=\"Project.section.link\" defaultMessage=\"Link\" />\n                            </Typography>\n                        </a>\n                    </AnimatedUnderlinedButton>\n                </div>\n            )}\n            <div className={classes.detail}>\n                <SeeProjectDetail color={color} project={project} />\n            </div>\n            {isEditing && <RemoveProjectDetail color={color} index={index} onDelete={onDelete} classes={classes} />}\n        </div>\n    );\n};\n\nconst RemoveProjectDetail = ({ color, index, onDelete, classes }) => {\n    const [openDialog, setDialogOpened, setDialogClosed] = useCallbackOpen();\n\n    const handleConfirm = useCallback(() => {\n        onDelete(index);\n        setDialogClosed();\n    }, [onDelete, index]);\n\n    return (\n        <>\n            <ConfirmDialog open={openDialog} onClose={setDialogClosed} onConfirm={handleConfirm} />\n            <div className={classes.detail}>\n                <AnimatedUnderlinedButton color={color} onClick={setDialogOpened}>\n                    <RemoveIcon className={classes.detailDeleteIcon} />\n                    <Typography classes={{ container: classes.detailTypography }} color=\"primary\">\n                        <FormattedMessage id=\"Main.lang.delete\" defaultMessage=\"Delete\" />\n                    </Typography>\n                </AnimatedUnderlinedButton>\n            </div>\n        </>\n    );\n};\n\nexport const ProjectSection = ProjectSectionContainer;\n"]},"metadata":{},"sourceType":"module"}