{"ast":null,"code":"import _objectSpread from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useContext,useMemo}from'react';import{ProfileCard}from'../../../commons/profile_card/profile_card';import{SoundtrackFront}from'./soundtrack_front/soundtrack_front';import{SoundtrackBack}from'./soundtrack_back/soundtrack_back';import{FlatObjectToJsonResume,JsonResumeToFlatObject}from'../../utils/data_mapping';import{SoundtrackCardEditDialog}from'./edit_dialog/soundtrack_card_edit_dialog';import{SoundtrackMapping}from'./data/mapping';import{DeveloperProfileContext}from'../../../../utils/context/contexts';import{SoundtrackValidationSchema,validateSoundtrackComplete}from'./data/validator';import{SIDES}from'../../../commons/profile_card/profile_card_side/side';import{useMode}from'../../../hooks/use_mode';import{jsx as _jsx}from\"react/jsx-runtime\";var SoundtrackCardComponent=function SoundtrackCardComponent(_ref){var variant=_ref.variant,side=_ref.side;var _useMode=useMode(),_useMode2=_slicedToArray(_useMode,1),mode=_useMode2[0];var _useContext=useContext(DeveloperProfileContext),data=_useContext.data,isEditing=_useContext.isEditing,onEdit=_useContext.onEdit;var mappedData=useMemo(function(){return JsonResumeToFlatObject(data,SoundtrackMapping);},[data]);var onDialogEdited=useCallback(function(editedData){onEdit(FlatObjectToJsonResume(editedData,SoundtrackMapping));},[onEdit]);var isComplete=useMemo(function(){return validateSoundtrackComplete(mappedData);},[mappedData]);var currentSide=useMemo(function(){if(!isComplete&&!isEditing){return SIDES.FRONT;}return side;},[side,isComplete,isEditing]);if(!isComplete&&mode!=='edit'){return null;}return/*#__PURE__*/_jsx(ProfileCard,{kind:\"soundtrack\",isComplete:isComplete,isEditingProfile:isEditing,data:mappedData,sides:{front:function front(props){return/*#__PURE__*/_jsx(SoundtrackFront,_objectSpread({},props));},back:function back(props){return/*#__PURE__*/_jsx(SoundtrackBack,_objectSpread({},props));}},editDialog:{component:SoundtrackCardEditDialog,onEdit:onDialogEdited,validationSchema:SoundtrackValidationSchema},variant:variant,side:currentSide});};export var SoundtrackCard=SoundtrackCardComponent;","map":{"version":3,"sources":["/home/gzamora/Documents/test/react-ultimate-resume/src/package/components/cards/cards_types/soundtrack/soundtrack_card.jsx"],"names":["React","useCallback","useContext","useMemo","ProfileCard","SoundtrackFront","SoundtrackBack","FlatObjectToJsonResume","JsonResumeToFlatObject","SoundtrackCardEditDialog","SoundtrackMapping","DeveloperProfileContext","SoundtrackValidationSchema","validateSoundtrackComplete","SIDES","useMode","SoundtrackCardComponent","variant","side","mode","data","isEditing","onEdit","mappedData","onDialogEdited","editedData","isComplete","currentSide","FRONT","front","props","back","component","validationSchema","SoundtrackCard"],"mappings":"iVAAA,MAAOA,CAAAA,KAAP,EAAgBC,WAAhB,CAA6BC,UAA7B,CAAyCC,OAAzC,KAAwD,OAAxD,CAEA,OAASC,WAAT,KAA4B,4CAA5B,CACA,OAASC,eAAT,KAAgC,qCAAhC,CACA,OAASC,cAAT,KAA+B,mCAA/B,CACA,OAASC,sBAAT,CAAiCC,sBAAjC,KAA+D,0BAA/D,CACA,OAASC,wBAAT,KAAyC,2CAAzC,CACA,OAASC,iBAAT,KAAkC,gBAAlC,CACA,OAASC,uBAAT,KAAwC,oCAAxC,CACA,OAASC,0BAAT,CAAqCC,0BAArC,KAAuE,kBAAvE,CACA,OAASC,KAAT,KAAsB,sDAAtB,CACA,OAASC,OAAT,KAAwB,yBAAxB,C,2CAEA,GAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,MAAuB,IAApBC,CAAAA,OAAoB,MAApBA,OAAoB,CAAXC,IAAW,MAAXA,IAAW,cACpCH,OAAO,EAD6B,sCAC5CI,IAD4C,8BAEfjB,UAAU,CAACS,uBAAD,CAFK,CAE3CS,IAF2C,aAE3CA,IAF2C,CAErCC,SAFqC,aAErCA,SAFqC,CAE1BC,MAF0B,aAE1BA,MAF0B,CAGnD,GAAMC,CAAAA,UAAU,CAAGpB,OAAO,CAAC,iBAAMK,CAAAA,sBAAsB,CAACY,IAAD,CAAOV,iBAAP,CAA5B,EAAD,CAAwD,CAACU,IAAD,CAAxD,CAA1B,CAEA,GAAMI,CAAAA,cAAc,CAAGvB,WAAW,CAC9B,SAACwB,UAAD,CAAgB,CACZH,MAAM,CAACf,sBAAsB,CAACkB,UAAD,CAAaf,iBAAb,CAAvB,CAAN,CACH,CAH6B,CAI9B,CAACY,MAAD,CAJ8B,CAAlC,CAOA,GAAMI,CAAAA,UAAU,CAAGvB,OAAO,CAAC,iBAAMU,CAAAA,0BAA0B,CAACU,UAAD,CAAhC,EAAD,CAA+C,CAACA,UAAD,CAA/C,CAA1B,CAEA,GAAMI,CAAAA,WAAW,CAAGxB,OAAO,CAAC,UAAM,CAC9B,GAAI,CAACuB,UAAD,EAAe,CAACL,SAApB,CAA+B,CAC3B,MAAOP,CAAAA,KAAK,CAACc,KAAb,CACH,CACD,MAAOV,CAAAA,IAAP,CACH,CAL0B,CAKxB,CAACA,IAAD,CAAOQ,UAAP,CAAmBL,SAAnB,CALwB,CAA3B,CAOA,GAAI,CAACK,UAAD,EAAeP,IAAI,GAAK,MAA5B,CAAoC,CAChC,MAAO,KAAP,CACH,CAED,mBACI,KAAC,WAAD,EACI,IAAI,CAAC,YADT,CAEI,UAAU,CAAEO,UAFhB,CAGI,gBAAgB,CAAEL,SAHtB,CAII,IAAI,CAAEE,UAJV,CAKI,KAAK,CAAE,CACHM,KAAK,CAAE,eAACC,KAAD,qBAAW,KAAC,eAAD,kBAAqBA,KAArB,EAAX,EADJ,CAEHC,IAAI,CAAE,cAACD,KAAD,qBAAW,KAAC,cAAD,kBAAoBA,KAApB,EAAX,EAFH,CALX,CASI,UAAU,CAAE,CACRE,SAAS,CAAEvB,wBADH,CAERa,MAAM,CAAEE,cAFA,CAGRS,gBAAgB,CAAErB,0BAHV,CAThB,CAcI,OAAO,CAAEK,OAdb,CAeI,IAAI,CAAEU,WAfV,EADJ,CAmBH,CA5CD,CA8CA,MAAO,IAAMO,CAAAA,cAAc,CAAGlB,uBAAvB","sourcesContent":["import React, { useCallback, useContext, useMemo } from 'react';\n\nimport { ProfileCard } from '../../../commons/profile_card/profile_card';\nimport { SoundtrackFront } from './soundtrack_front/soundtrack_front';\nimport { SoundtrackBack } from './soundtrack_back/soundtrack_back';\nimport { FlatObjectToJsonResume, JsonResumeToFlatObject } from '../../utils/data_mapping';\nimport { SoundtrackCardEditDialog } from './edit_dialog/soundtrack_card_edit_dialog';\nimport { SoundtrackMapping } from './data/mapping';\nimport { DeveloperProfileContext } from '../../../../utils/context/contexts';\nimport { SoundtrackValidationSchema, validateSoundtrackComplete } from './data/validator';\nimport { SIDES } from '../../../commons/profile_card/profile_card_side/side';\nimport { useMode } from '../../../hooks/use_mode';\n\nconst SoundtrackCardComponent = ({ variant, side }) => {\n    const [mode] = useMode();\n    const { data, isEditing, onEdit } = useContext(DeveloperProfileContext);\n    const mappedData = useMemo(() => JsonResumeToFlatObject(data, SoundtrackMapping), [data]);\n\n    const onDialogEdited = useCallback(\n        (editedData) => {\n            onEdit(FlatObjectToJsonResume(editedData, SoundtrackMapping));\n        },\n        [onEdit]\n    );\n\n    const isComplete = useMemo(() => validateSoundtrackComplete(mappedData), [mappedData]);\n\n    const currentSide = useMemo(() => {\n        if (!isComplete && !isEditing) {\n            return SIDES.FRONT;\n        }\n        return side;\n    }, [side, isComplete, isEditing]);\n\n    if (!isComplete && mode !== 'edit') {\n        return null;\n    }\n\n    return (\n        <ProfileCard\n            kind=\"soundtrack\"\n            isComplete={isComplete}\n            isEditingProfile={isEditing}\n            data={mappedData}\n            sides={{\n                front: (props) => <SoundtrackFront {...props} />,\n                back: (props) => <SoundtrackBack {...props} />\n            }}\n            editDialog={{\n                component: SoundtrackCardEditDialog,\n                onEdit: onDialogEdited,\n                validationSchema: SoundtrackValidationSchema\n            }}\n            variant={variant}\n            side={currentSide}\n        />\n    );\n};\n\nexport const SoundtrackCard = SoundtrackCardComponent;\n"]},"metadata":{},"sourceType":"module"}