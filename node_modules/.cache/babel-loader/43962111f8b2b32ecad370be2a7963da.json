{"ast":null,"code":"import _objectSpread from\"/home/gzamora/Documents/test/react-ultimate-resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useCallback,useMemo}from'react';import cn from'classnames';import{createUseStyles}from'react-jss';import{FormattedMessage}from'react-intl';import{arrayMove,SortableContainer,SortableElement,SortableHandle}from'react-sortable-hoc';import{Card,List,Tooltip,Typography}from'@welovedevs/ui';import{SliderWithPopper}from'../../slider_with_popper/slider_with_popper';import{ReactComponent as DeleteIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../../assets/icons/trash.svg\";import{ReactComponent as MoveIcon}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../../../assets/icons/move_list.svg\";import{useTechnologies}from'../../../hooks/technologies/use_technologies';import{styles}from'./selected_technologies_styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createUseStyles(styles);var TechnologyRow=SortableElement(function(_ref){var item=_ref.item,onRemove=_ref.onRemove,onChange=_ref.onChange,classes=_ref.classes,itemsLength=_ref.itemsLength,technologyIndex=_ref.technologyIndex;var _useTechnologies=useTechnologies(),technologies=_useTechnologies.technologies;var sliderChange=useCallback(function(e){onChange(_objectSpread(_objectSpread({},item),{},{value:Number(e.target.value)}));},[item,onChange]);var imgUrl=useMemo(function(){var technology=technologies===null||technologies===void 0?void 0:technologies[item.name];if(!technology){return null;}if(technology.handle){return\"https://process.filestackapi.com/\".concat(technology.handle);}return technology.url;},[technologies,item]);return/*#__PURE__*/_jsxs(\"li\",{className:classes.listItem,style:{zIndex:itemsLength-technologyIndex},children:[/*#__PURE__*/_jsx(DragHandle,{classes:classes}),/*#__PURE__*/_jsx(\"div\",{className:classes.divider}),/*#__PURE__*/_jsx(Tooltip,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"Main.lang.delete\",defaultMessage:\"Delete\"}),children:/*#__PURE__*/_jsx(\"button\",{className:classes.removeButton,type:\"button\",onClick:function onClick(){return onRemove(item.id);},children:/*#__PURE__*/_jsx(DeleteIcon,{className:classes.removeIcon})})}),/*#__PURE__*/_jsx(\"div\",{className:classes.divider}),/*#__PURE__*/_jsx(Card,{className:classes.logo,children:/*#__PURE__*/_jsx(\"img\",{className:classes.logoImage,alt:item.name,src:imgUrl})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.textWrapper,children:[/*#__PURE__*/_jsx(Typography,{color:\"dark\",variant:\"label\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:classes.sliderValueContainer,children:[/*#__PURE__*/_jsx(Typography,{classes:{container:classes.sliderValue},color:\"dark\",variant:\"label\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:\"Skills.Dialog.SliderValue\",defaultMessage:\"{valueNode}%\",values:{valueNode:/*#__PURE__*/_jsx(\"span\",{className:classes.bolden,children:item.value})}})}),/*#__PURE__*/_jsx(SliderWithPopper,{color:\"primary\",name:\"skill_value_\".concat(item.id),value:item.value,onChange:sliderChange,min:0,max:100,debounce:50,classes:{container:classes.slider},popperCardProps:{classes:{popper:classes.popper}}})]})]})]});});var SortableTechnologies=SortableContainer(function(_ref2){var items=_ref2.items,onDelete=_ref2.onDelete,onItemChange=_ref2.onItemChange,schools=_ref2.schools,classes=_ref2.classes,className=_ref2.className,receivedClasses=_ref2.receivedClasses,itemsLength=_ref2.itemsLength;return/*#__PURE__*/_jsx(List,{className:cn(classes.container,className,receivedClasses.container),children:items.map(function(item,index){return/*#__PURE__*/_jsx(TechnologyRow,{onRemove:onDelete,id:item.id,onChange:onItemChange,technologyIndex:index,index:index,item:item,schools:schools,receivedClasses:receivedClasses,classes:classes,itemsLength:itemsLength},\"selected_technology_row_\".concat(item.id));})});});var DragHandle=SortableHandle(function(_ref3){var classes=_ref3.classes;return/*#__PURE__*/_jsx(\"button\",{className:classes.dragHandleButton,type:\"button\",children:/*#__PURE__*/_jsx(MoveIcon,{className:classes.dragHandle})});});var SelectedTechnologiesComponent=function SelectedTechnologiesComponent(_ref4){var items=_ref4.items,onChange=_ref4.onChange,onDelete=_ref4.onDelete,className=_ref4.className,onItemChange=_ref4.onItemChange,_ref4$classes=_ref4.classes,receivedClasses=_ref4$classes===void 0?{}:_ref4$classes;var classes=useStyles();var itemsLength=useMemo(function(){return items.length;},[items]);var move=useCallback(function(_ref5){var oldIndex=_ref5.oldIndex,newIndex=_ref5.newIndex;onChange(arrayMove(items,oldIndex,newIndex).map(function(data,index){return _objectSpread(_objectSpread({},data),{},{index:index});}));},[items,onChange]);return/*#__PURE__*/_jsx(SortableTechnologies,{lockToContainerEdges:true,className:className,helperClass:classes.sortableHelper,items:items,onSortEnd:move,distance:20,useDragHandle:true,lockAxis:\"y\",name:\"education\",onItemChange:onItemChange,onDelete:onDelete,receivedClasses:receivedClasses,itemsLength:itemsLength,classes:classes});};export var SelectedTechnologies=SelectedTechnologiesComponent;","map":{"version":3,"sources":["/home/gzamora/Documents/test/react-ultimate-resume/src/package/components/commons/technologies/selected_technologies/selected_technologies.jsx"],"names":["React","useCallback","useMemo","cn","createUseStyles","FormattedMessage","arrayMove","SortableContainer","SortableElement","SortableHandle","Card","List","Tooltip","Typography","SliderWithPopper","useTechnologies","styles","useStyles","TechnologyRow","item","onRemove","onChange","classes","itemsLength","technologyIndex","technologies","sliderChange","e","value","Number","target","imgUrl","technology","name","handle","url","listItem","zIndex","divider","removeButton","id","removeIcon","logo","logoImage","textWrapper","sliderValueContainer","container","sliderValue","valueNode","bolden","slider","popper","SortableTechnologies","items","onDelete","onItemChange","schools","className","receivedClasses","map","index","DragHandle","dragHandleButton","dragHandle","SelectedTechnologiesComponent","length","move","oldIndex","newIndex","data","sortableHelper","SelectedTechnologies"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo } from 'react';\n\nimport cn from 'classnames';\nimport { createUseStyles } from 'react-jss';\nimport { FormattedMessage } from 'react-intl';\nimport { arrayMove, SortableContainer, SortableElement, SortableHandle } from 'react-sortable-hoc';\n\nimport { Card, List, Tooltip, Typography } from '@welovedevs/ui';\n\nimport { SliderWithPopper } from '../../slider_with_popper/slider_with_popper';\n\nimport { ReactComponent as DeleteIcon } from '../../../../assets/icons/trash.svg';\nimport { ReactComponent as MoveIcon } from '../../../../assets/icons/move_list.svg';\n\nimport { useTechnologies } from '../../../hooks/technologies/use_technologies';\n\nimport { styles } from './selected_technologies_styles';\n\nconst useStyles = createUseStyles(styles);\n\nconst TechnologyRow = SortableElement(({ item, onRemove, onChange, classes, itemsLength, technologyIndex }) => {\n    const { technologies } = useTechnologies();\n\n    const sliderChange = useCallback(\n        (e) => {\n            onChange({ ...item, value: Number(e.target.value) });\n        },\n        [item, onChange]\n    );\n    const imgUrl = useMemo(() => {\n        const technology = technologies?.[item.name];\n        if (!technology) {\n            return null;\n        }\n        if (technology.handle) {\n            return `https://process.filestackapi.com/${technology.handle}`;\n        }\n        return technology.url;\n    }, [technologies, item]);\n\n    return (\n        <li className={classes.listItem} style={{ zIndex: itemsLength - technologyIndex }}>\n            <DragHandle classes={classes} />\n            <div className={classes.divider} />\n            <Tooltip title={<FormattedMessage id=\"Main.lang.delete\" defaultMessage=\"Delete\" />}>\n                <button className={classes.removeButton} type=\"button\" onClick={() => onRemove(item.id)}>\n                    <DeleteIcon className={classes.removeIcon} />\n                </button>\n            </Tooltip>\n            <div className={classes.divider} />\n            <Card className={classes.logo}>\n                <img className={classes.logoImage} alt={item.name} src={imgUrl} />\n            </Card>\n            <div className={classes.textWrapper}>\n                <Typography color=\"dark\" variant=\"label\">\n                    {item.name}\n                </Typography>\n                <div className={classes.sliderValueContainer}>\n                    <Typography\n                        classes={{\n                            container: classes.sliderValue\n                        }}\n                        color=\"dark\"\n                        variant=\"label\"\n                    >\n                        <FormattedMessage\n                            id=\"Skills.Dialog.SliderValue\"\n                            defaultMessage=\"{valueNode}%\"\n                            values={{ valueNode: <span className={classes.bolden}>{item.value}</span> }}\n                        />\n                    </Typography>\n                    <SliderWithPopper\n                        color=\"primary\"\n                        name={`skill_value_${item.id}`}\n                        value={item.value}\n                        onChange={sliderChange}\n                        min={0}\n                        max={100}\n                        debounce={50}\n                        classes={{ container: classes.slider }}\n                        popperCardProps={{\n                            classes: {\n                                popper: classes.popper\n                            }\n                        }}\n                    />\n                </div>\n            </div>\n        </li>\n    );\n});\n\nconst SortableTechnologies = SortableContainer(\n    ({ items, onDelete, onItemChange, schools, classes, className, receivedClasses, itemsLength }) => (\n        <List className={cn(classes.container, className, receivedClasses.container)}>\n            {items.map((item, index) => (\n                <TechnologyRow\n                    key={`selected_technology_row_${item.id}`}\n                    onRemove={onDelete}\n                    id={item.id}\n                    onChange={onItemChange}\n                    technologyIndex={index}\n                    index={index}\n                    item={item}\n                    schools={schools}\n                    receivedClasses={receivedClasses}\n                    classes={classes}\n                    itemsLength={itemsLength}\n                />\n            ))}\n        </List>\n    )\n);\n\nconst DragHandle = SortableHandle(({ classes }) => (\n    <button className={classes.dragHandleButton} type=\"button\">\n        <MoveIcon className={classes.dragHandle} />\n    </button>\n));\n\nconst SelectedTechnologiesComponent = ({\n    items,\n    onChange,\n    onDelete,\n    className,\n    onItemChange,\n    classes: receivedClasses = {}\n}) => {\n    const classes = useStyles();\n    const itemsLength = useMemo(() => items.length, [items]);\n\n    const move = useCallback(\n        ({ oldIndex, newIndex }) => {\n            onChange(arrayMove(items, oldIndex, newIndex).map((data, index) => ({ ...data, index })));\n        },\n        [items, onChange]\n    );\n\n    return (\n        <SortableTechnologies\n            lockToContainerEdges\n            className={className}\n            helperClass={classes.sortableHelper}\n            items={items}\n            onSortEnd={move}\n            distance={20}\n            useDragHandle\n            lockAxis=\"y\"\n            name=\"education\"\n            onItemChange={onItemChange}\n            onDelete={onDelete}\n            receivedClasses={receivedClasses}\n            itemsLength={itemsLength}\n            classes={classes}\n        />\n    );\n};\n\nexport const SelectedTechnologies = SelectedTechnologiesComponent;\n"]},"metadata":{},"sourceType":"module"}